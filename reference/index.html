
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="BigFunctions are open-source BigQuery routines that give you SQL-superpowers. BigFunctions can show data-visualizations inside BigQuery console, compute advanced transforms such as sentiment score of a text, or send data to any of your favorite SAAS tool. BigFunctions is dbt's best friend.">
      
      
      
        <link rel="canonical" href="https://unytics.io/bigfunctions/reference/">
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../getting_started/">
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>BigFunctions - BigFunctions</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.26e3688c.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="../stylesheets/bu-bulma.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<meta property="og:title" content="BigFunctions supercharge BigQuery" />
<meta property="twitter:card" content="summary" />
<meta property="twitter:title" content="BigFunctions supercharge BigQuery" />


<meta property="og:description" content="BigFunctions are open-source BigQuery routines that give you SQL-superpowers. BigFunctions can show data-visualizations inside BigQuery console, compute advanced transforms such as sentiment score of a text, or send data to any of your favorite SAAS tool. BigFunctions is dbt's best friend." />


<meta property="og:image" content="https://unytics.io/bigfunctions/assets/logo_and_name.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="2500" />
<meta property="og:image:height" content="541" />
<meta property="twitter:image" content="https://unytics.io/bigfunctions/assets/logo_and_name.png" />
<meta property="twitter:image:alt" content="Supercharge BigQuery with BigFunctions" />


  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header__inner md-grid" aria-label="">

    <!-- Link to home -->
    <a href="https://unytics.io/bigfunctions/" title="BigFunctions" class="md-header__button md-logo" aria-label="BigFunctions">
      
  <img src="../assets/logo.png" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <a class="md-ellipsis" href="https://unytics.io/bigfunctions/">
            BigFunctions
          </a>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BigFunctions
            
          </span>
        </div>
      </div>
    </div>

    <!-- Site language selector -->
    

    <!-- Button to open search dialogue -->
    

    <!-- Repository containing source -->
    
      <div class="md-header__source">
        <a href="https://github.com/unytics/bigfunctions" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    unytics/bigfunctions
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="./" class="md-tabs__link md-tabs__link--active">
      BigFunctions
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../getting_started/" class="md-tabs__link">
      Getting Started
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../contribute/" class="md-tabs__link">
      Contribute!
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" hidden>
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="BigFunctions" class="md-nav__button md-logo" aria-label="BigFunctions" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    BigFunctions
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/unytics/bigfunctions" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    unytics/bigfunctions
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          BigFunctions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        BigFunctions
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    📄 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai" class="md-nav__link">
    🧠 AI
  </a>
  
    <nav class="md-nav" aria-label="🧠 AI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ask_bison" class="md-nav__link">
    ask_bison
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ask_my_data" class="md-nav__link">
    ask_my_data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate_sql" class="md-nav__link">
    generate_sql
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-data" class="md-nav__link">
    🛢 Get data
  </a>
  
    <nav class="md-nav" aria-label="🛢 Get data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exchange_rate" class="md-nav__link">
    exchange_rate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_meteo" class="md-nav__link">
    get_meteo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notify" class="md-nav__link">
    💬 Notify
  </a>
  
    <nav class="md-nav" aria-label="💬 Notify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#send_google_chat_message" class="md-nav__link">
    send_google_chat_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_mail" class="md-nav__link">
    send_mail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_mail_with_excel" class="md-nav__link">
    send_mail_with_excel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_slack_message" class="md-nav__link">
    send_slack_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_sms" class="md-nav__link">
    send_sms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_teams_message" class="md-nav__link">
    send_teams_message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#export" class="md-nav__link">
    🚀 Export
  </a>
  
    <nav class="md-nav" aria-label="🚀 Export">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export_to_datastore" class="md-nav__link">
    export_to_datastore
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export_to_pubsub" class="md-nav__link">
    export_to_pubsub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload_table_to_gsheet" class="md-nav__link">
    upload_table_to_gsheet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload_to_gsheet" class="md-nav__link">
    upload_to_gsheet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-transform-numeric" class="md-nav__link">
    1️⃣ Transform numeric
  </a>
  
    <nav class="md-nav" aria-label="1️⃣ Transform numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format_percentage" class="md-nav__link">
    format_percentage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_bins" class="md-nav__link">
    quantize_into_bins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_fixed_width_bins" class="md-nav__link">
    quantize_into_fixed_width_bins
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-string" class="md-nav__link">
    ✨ Transform string
  </a>
  
    <nav class="md-nav" aria-label="✨ Transform string">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deidentify" class="md-nav__link">
    deidentify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detect_sensitive_info" class="md-nav__link">
    detect_sensitive_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faker" class="md-nav__link">
    faker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_email_valid" class="md-nav__link">
    is_email_valid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levenshtein" class="md-nav__link">
    levenshtein
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_url" class="md-nav__link">
    parse_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_accents" class="md-nav__link">
    remove_accents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_extra_whitespaces" class="md-nav__link">
    remove_extra_whitespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_strings" class="md-nav__link">
    remove_strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_words" class="md-nav__link">
    remove_words
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_string" class="md-nav__link">
    render_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace_special_characters" class="md-nav__link">
    replace_special_characters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translate" class="md-nav__link">
    translate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml_extract" class="md-nav__link">
    xml_extract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-geo-data" class="md-nav__link">
    🌐 Transform geo data
  </a>
  
    <nav class="md-nav" aria-label="🌐 Transform geo data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geocode" class="md-nav__link">
    geocode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h3" class="md-nav__link">
    h3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse_geocode" class="md-nav__link">
    reverse_geocode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_address" class="md-nav__link">
    validate_address
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-date" class="md-nav__link">
    📆 Transform date
  </a>
  
    <nav class="md-nav" aria-label="📆 Transform date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#date_sub_isoyear" class="md-nav__link">
    date_sub_isoyear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate_dates" class="md-nav__link">
    generate_dates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_public_holiday" class="md-nav__link">
    is_public_holiday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_date" class="md-nav__link">
    parse_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated_month_name" class="md-nav__link">
    translated_month_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated_weekday_name" class="md-nav__link">
    translated_weekday_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-json" class="md-nav__link">
    {...} Transform json
  </a>
  
    <nav class="md-nav" aria-label="{...} Transform json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json_items" class="md-nav__link">
    json_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_keys" class="md-nav__link">
    json_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_merge" class="md-nav__link">
    json_merge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_query" class="md-nav__link">
    json_query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_schema" class="md-nav__link">
    json_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_values" class="md-nav__link">
    json_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-array" class="md-nav__link">
    [...] Transform array
  </a>
  
    <nav class="md-nav" aria-label="[...] Transform array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#are_arrays_equal" class="md-nav__link">
    are_arrays_equal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct_values" class="md-nav__link">
    distinct_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_value" class="md-nav__link">
    find_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_value" class="md-nav__link">
    get_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last_value" class="md-nav__link">
    last_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_value" class="md-nav__link">
    max_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median_value" class="md-nav__link">
    median_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_value" class="md-nav__link">
    min_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#percentile_value" class="md-nav__link">
    percentile_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_value" class="md-nav__link">
    remove_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values" class="md-nav__link">
    sort_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values_desc" class="md-nav__link">
    sort_values_desc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum_values" class="md-nav__link">
    sum_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#machine-learning" class="md-nav__link">
    🧠 Machine learning
  </a>
  
    <nav class="md-nav" aria-label="🧠 Machine learning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#precision_recall_auc" class="md-nav__link">
    precision_recall_auc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#precision_recall_curve" class="md-nav__link">
    precision_recall_curve
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prophet" class="md-nav__link">
    prophet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roc_auc" class="md-nav__link">
    roc_auc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roc_curve" class="md-nav__link">
    roc_curve
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentiment_score" class="md-nav__link">
    sentiment_score
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph" class="md-nav__link">
    🌐 Graph
  </a>
  
    <nav class="md-nav" aria-label="🌐 Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connected_components" class="md-nav__link">
    connected_components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert-data-format" class="md-nav__link">
    🔨 Convert data format
  </a>
  
    <nav class="md-nav" aria-label="🔨 Convert data format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#html2pdf" class="md-nav__link">
    html2pdf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json2excel" class="md-nav__link">
    json2excel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json2xml" class="md-nav__link">
    json2xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml2json" class="md-nav__link">
    xml2json
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore" class="md-nav__link">
    👀 Explore
  </a>
  
    <nav class="md-nav" aria-label="👀 Explore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explore_column" class="md-nav__link">
    explore_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_dataset" class="md-nav__link">
    explore_dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_table" class="md-nav__link">
    explore_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_table_row_anomalies" class="md-nav__link">
    explore_table_row_anomalies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    🔨 Utils
  </a>
  
    <nav class="md-nav" aria-label="🔨 Utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chart" class="md-nav__link">
    chart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deduplicate_rows" class="md-nav__link">
    deduplicate_rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_latest_partition_timestamp" class="md-nav__link">
    get_latest_partition_timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_columns" class="md-nav__link">
    get_table_columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_view_history" class="md-nav__link">
    get_view_history
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_python" class="md-nav__link">
    run_python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamp_from_unix_date_time" class="md-nav__link">
    timestamp_from_unix_date_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamp_to_unix_date_time" class="md-nav__link">
    timestamp_to_unix_date_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert" class="md-nav__link">
    upsert
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contribute/" class="md-nav__link">
        Contribute!
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    📄 Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai" class="md-nav__link">
    🧠 AI
  </a>
  
    <nav class="md-nav" aria-label="🧠 AI">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ask_bison" class="md-nav__link">
    ask_bison
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ask_my_data" class="md-nav__link">
    ask_my_data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate_sql" class="md-nav__link">
    generate_sql
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-data" class="md-nav__link">
    🛢 Get data
  </a>
  
    <nav class="md-nav" aria-label="🛢 Get data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#exchange_rate" class="md-nav__link">
    exchange_rate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get" class="md-nav__link">
    get
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_meteo" class="md-nav__link">
    get_meteo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notify" class="md-nav__link">
    💬 Notify
  </a>
  
    <nav class="md-nav" aria-label="💬 Notify">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#send_google_chat_message" class="md-nav__link">
    send_google_chat_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_mail" class="md-nav__link">
    send_mail
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_mail_with_excel" class="md-nav__link">
    send_mail_with_excel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_slack_message" class="md-nav__link">
    send_slack_message
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_sms" class="md-nav__link">
    send_sms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#send_teams_message" class="md-nav__link">
    send_teams_message
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#export" class="md-nav__link">
    🚀 Export
  </a>
  
    <nav class="md-nav" aria-label="🚀 Export">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#export_to_datastore" class="md-nav__link">
    export_to_datastore
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#export_to_pubsub" class="md-nav__link">
    export_to_pubsub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload_table_to_gsheet" class="md-nav__link">
    upload_table_to_gsheet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upload_to_gsheet" class="md-nav__link">
    upload_to_gsheet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-transform-numeric" class="md-nav__link">
    1️⃣ Transform numeric
  </a>
  
    <nav class="md-nav" aria-label="1️⃣ Transform numeric">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format_percentage" class="md-nav__link">
    format_percentage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_bins" class="md-nav__link">
    quantize_into_bins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantize_into_fixed_width_bins" class="md-nav__link">
    quantize_into_fixed_width_bins
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-string" class="md-nav__link">
    ✨ Transform string
  </a>
  
    <nav class="md-nav" aria-label="✨ Transform string">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deidentify" class="md-nav__link">
    deidentify
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detect_sensitive_info" class="md-nav__link">
    detect_sensitive_info
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faker" class="md-nav__link">
    faker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_email_valid" class="md-nav__link">
    is_email_valid
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#levenshtein" class="md-nav__link">
    levenshtein
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_url" class="md-nav__link">
    parse_url
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_accents" class="md-nav__link">
    remove_accents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_extra_whitespaces" class="md-nav__link">
    remove_extra_whitespaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_strings" class="md-nav__link">
    remove_strings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_words" class="md-nav__link">
    remove_words
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render_string" class="md-nav__link">
    render_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace_special_characters" class="md-nav__link">
    replace_special_characters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translate" class="md-nav__link">
    translate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml_extract" class="md-nav__link">
    xml_extract
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-geo-data" class="md-nav__link">
    🌐 Transform geo data
  </a>
  
    <nav class="md-nav" aria-label="🌐 Transform geo data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#geocode" class="md-nav__link">
    geocode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#h3" class="md-nav__link">
    h3
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse_geocode" class="md-nav__link">
    reverse_geocode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#validate_address" class="md-nav__link">
    validate_address
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-date" class="md-nav__link">
    📆 Transform date
  </a>
  
    <nav class="md-nav" aria-label="📆 Transform date">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#date_sub_isoyear" class="md-nav__link">
    date_sub_isoyear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate_dates" class="md-nav__link">
    generate_dates
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_public_holiday" class="md-nav__link">
    is_public_holiday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_date" class="md-nav__link">
    parse_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated_month_name" class="md-nav__link">
    translated_month_name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translated_weekday_name" class="md-nav__link">
    translated_weekday_name
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-json" class="md-nav__link">
    {...} Transform json
  </a>
  
    <nav class="md-nav" aria-label="{...} Transform json">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#json_items" class="md-nav__link">
    json_items
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_keys" class="md-nav__link">
    json_keys
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_merge" class="md-nav__link">
    json_merge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_query" class="md-nav__link">
    json_query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_schema" class="md-nav__link">
    json_schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json_values" class="md-nav__link">
    json_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transform-array" class="md-nav__link">
    [...] Transform array
  </a>
  
    <nav class="md-nav" aria-label="[...] Transform array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#are_arrays_equal" class="md-nav__link">
    are_arrays_equal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct_values" class="md-nav__link">
    distinct_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_value" class="md-nav__link">
    find_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_value" class="md-nav__link">
    get_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#last_value" class="md-nav__link">
    last_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max_value" class="md-nav__link">
    max_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median_value" class="md-nav__link">
    median_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min_value" class="md-nav__link">
    min_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#percentile_value" class="md-nav__link">
    percentile_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove_value" class="md-nav__link">
    remove_value
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values" class="md-nav__link">
    sort_values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort_values_desc" class="md-nav__link">
    sort_values_desc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sum_values" class="md-nav__link">
    sum_values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#machine-learning" class="md-nav__link">
    🧠 Machine learning
  </a>
  
    <nav class="md-nav" aria-label="🧠 Machine learning">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#precision_recall_auc" class="md-nav__link">
    precision_recall_auc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#precision_recall_curve" class="md-nav__link">
    precision_recall_curve
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prophet" class="md-nav__link">
    prophet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roc_auc" class="md-nav__link">
    roc_auc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roc_curve" class="md-nav__link">
    roc_curve
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sentiment_score" class="md-nav__link">
    sentiment_score
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graph" class="md-nav__link">
    🌐 Graph
  </a>
  
    <nav class="md-nav" aria-label="🌐 Graph">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connected_components" class="md-nav__link">
    connected_components
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#convert-data-format" class="md-nav__link">
    🔨 Convert data format
  </a>
  
    <nav class="md-nav" aria-label="🔨 Convert data format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#html2pdf" class="md-nav__link">
    html2pdf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json2excel" class="md-nav__link">
    json2excel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json2xml" class="md-nav__link">
    json2xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml2json" class="md-nav__link">
    xml2json
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#explore" class="md-nav__link">
    👀 Explore
  </a>
  
    <nav class="md-nav" aria-label="👀 Explore">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explore_column" class="md-nav__link">
    explore_column
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_dataset" class="md-nav__link">
    explore_dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_table" class="md-nav__link">
    explore_table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explore_table_row_anomalies" class="md-nav__link">
    explore_table_row_anomalies
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils" class="md-nav__link">
    🔨 Utils
  </a>
  
    <nav class="md-nav" aria-label="🔨 Utils">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chart" class="md-nav__link">
    chart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deduplicate_rows" class="md-nav__link">
    deduplicate_rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_latest_partition_timestamp" class="md-nav__link">
    get_latest_partition_timestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_table_columns" class="md-nav__link">
    get_table_columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_view_history" class="md-nav__link">
    get_view_history
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run_python" class="md-nav__link">
    run_python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamp_from_unix_date_time" class="md-nav__link">
    timestamp_from_unix_date_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timestamp_to_unix_date_time" class="md-nav__link">
    timestamp_to_unix_date_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upsert" class="md-nav__link">
    upsert
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>BigFunctions</h1>

<h2 id="overview">📄 Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2>
<p>BigFunctions are open-source BigQuery routines that give you <strong>SQL-superpowers</strong> in BigQuery 💪.</p>
<div class="admonition note">
<p><strong>🧠 AI</strong></p>
<ul>
<li>
<p><a href="#ask_bison"><code>ask_bison(question)</code></a>: Ask Anything!</p>
</li>
<li>
<p><a href="#ask_my_data"><code>ask_my_data(question, fully_qualified_table)</code></a>: Ask your data any <code>question</code> in natural language.</p>
</li>
<li>
<p><a href="#generate_sql"><code>generate_sql(question, fully_qualified_table)</code></a>: Transform <code>question</code> to a SQL query.</p>
</li>
</ul>
<p><strong>🛢 Get data</strong></p>
<ul>
<li>
<p><a href="#exchange_rate"><code>exchange_rate(base, to)</code></a>: Get <code>exchange_rate</code></p>
</li>
<li>
<p><a href="#get"><code>get(url, headers)</code></a>: Request <code>url</code></p>
</li>
<li>
<p><a href="#get_meteo"><code>get_meteo(latitude, longitude, date)</code></a>: Get <code>meteo</code></p>
</li>
</ul>
<p><strong>💬 Notify</strong></p>
<ul>
<li>
<p><a href="#send_google_chat_message"><code>send_google_chat_message(message, webhook_url)</code></a>: Sends <code>message</code> to google chat space</p>
</li>
<li>
<p><a href="#send_mail"><code>send_mail(to, subject, content, attachment_filename, attachment_content)</code></a>: Sends an email</p>
</li>
<li>
<p><a href="#send_mail_with_excel"><code>send_mail_with_excel(to, subject, content, excel_filename, table_or_view_or_query)</code></a>: Sends an email with <code>table_or_view_or_query</code> data attached as excel file</p>
</li>
<li>
<p><a href="#send_slack_message"><code>send_slack_message(message, webhook_url)</code></a>: Sends <code>message</code> to a slack channel.</p>
</li>
<li>
<p><a href="#send_sms"><code>send_sms(message, phone_number)</code></a>: Sends <code>message</code> via SMS to <code>phone_number</code></p>
</li>
<li>
<p><a href="#send_teams_message"><code>send_teams_message(message, webhook_url)</code></a>: Sends <code>message</code> to a Microsoft Teams channel.</p>
</li>
</ul>
<p><strong>🚀 Export</strong></p>
<ul>
<li>
<p><a href="#export_to_datastore"><code>export_to_datastore(project, namespace, kind, key, data)</code></a>: Exports <code>data</code> to Datastore</p>
</li>
<li>
<p><a href="#export_to_pubsub"><code>export_to_pubsub(project, topic, data, attributes)</code></a>: Exports <code>data</code> and <code>attributes</code> to Pub/Sub <code>topic</code>.</p>
</li>
<li>
<p><a href="#upload_table_to_gsheet"><code>upload_table_to_gsheet(table_or_view_or_query, max_rows, spreadsheet_url, worksheet_name, write_mode)</code></a>: Upload data from <code>table_or_view_or_query</code> to Google Sheet</p>
</li>
<li>
<p><a href="#upload_to_gsheet"><code>upload_to_gsheet(data, spreadsheet_url, worksheet_name, write_mode)</code></a>: Upload <code>data</code> (a json array of objects) to a Google Sheet</p>
</li>
</ul>
<p><strong>1️⃣ Transform numeric</strong></p>
<ul>
<li>
<p><a href="#format_percentage"><code>format_percentage(first_number, second_number, nb_decimals)</code></a>: Return <code>first_number / second_number</code> as a formatted percentage</p>
</li>
<li>
<p><a href="#quantize_into_bins"><code>quantize_into_bins(value, bin_bounds)</code></a>: Get the <code>bin_range</code> in which belongs <code>value</code></p>
</li>
<li>
<p><a href="#quantize_into_fixed_width_bins"><code>quantize_into_fixed_width_bins(value, min_bound, max_bound, nb_bins)</code></a>: Get the <code>bin_range</code> in which belongs <code>value</code></p>
</li>
</ul>
<p><strong>✨ Transform string</strong></p>
<ul>
<li>
<p><a href="#deidentify"><code>deidentify(text, info_types)</code></a>: Masks sensitive information of type <code>info_types</code> in <code>text</code></p>
</li>
<li>
<p><a href="#detect_sensitive_info"><code>detect_sensitive_info(text)</code></a>: Detect sensitive information in <code>text</code></p>
</li>
<li>
<p><a href="#faker"><code>faker(what, locale)</code></a>: Generates fake data</p>
</li>
<li>
<p><a href="#is_email_valid"><code>is_email_valid(email)</code></a>: Return true if <code>email</code> is valid</p>
</li>
<li>
<p><a href="#levenshtein"><code>levenshtein(string1, string2)</code></a>: Compute levenshtein distance between <code>string1</code> and <code>string2</code></p>
</li>
<li>
<p><a href="#parse_url"><code>parse_url(url)</code></a>: Return <code>url</code> parts</p>
</li>
<li>
<p><a href="#remove_accents"><code>remove_accents(str)</code></a>: Remove accents</p>
</li>
<li>
<p><a href="#remove_extra_whitespaces"><code>remove_extra_whitespaces(str)</code></a>: Remove unwanted whitespaces</p>
</li>
<li>
<p><a href="#remove_strings"><code>remove_strings(string, strings_to_remove)</code></a>: Remove any string of <code>strings_to_remove</code> from <code>string</code></p>
</li>
<li>
<p><a href="#remove_words"><code>remove_words(string, words_to_remove)</code></a>: Remove any word of <code>words_to_remove</code> from <code>string</code></p>
</li>
<li>
<p><a href="#render_string"><code>render_string(template, context)</code></a>: Render template with context using nunjucks.js templating library</p>
</li>
<li>
<p><a href="#replace_special_characters"><code>replace_special_characters(string, replacement)</code></a>: Replace most common special characters in a <code>string</code> with <code>replacement</code></p>
</li>
<li>
<p><a href="#translate"><code>translate(text, target_language)</code></a>: Translate <code>text</code> into <code>target_language</code></p>
</li>
<li>
<p><a href="#xml_extract"><code>xml_extract(xml, x_path)</code></a>: Returns content extracted from XML from given XPATH</p>
</li>
</ul>
<p><strong>🌐 Transform geo data</strong></p>
<ul>
<li>
<p><a href="#geocode"><code>geocode(address)</code></a>: Get <code>address</code> details from Google Maps</p>
</li>
<li>
<p><a href="#h3"><code>h3(function_name, arguments)</code></a>: Wrapper around <a href="https://github.com/uber/h3-js">Uber H3</a></p>
</li>
<li>
<p><a href="#reverse_geocode"><code>reverse_geocode(latitude, longitude)</code></a>: Get address details at <code>latitude</code>, <code>longitude</code></p>
</li>
<li>
<p><a href="#validate_address"><code>validate_address(address)</code></a>: Validate <code>address</code> using Google Maps</p>
</li>
</ul>
<p><strong>📆 Transform date</strong></p>
<ul>
<li>
<p><a href="#date_sub_isoyear"><code>date_sub_isoyear(date, years)</code></a>: Returns same day <code>years</code> before</p>
</li>
<li>
<p><a href="#generate_dates"><code>generate_dates(start_date, end_date)</code></a>: Generate a table of dates</p>
</li>
<li>
<p><a href="#is_public_holiday"><code>is_public_holiday(date, country_code)</code></a>: Return true if <code>date</code> corresponds to a public holiday in <code>country_code</code></p>
</li>
<li>
<p><a href="#parse_date"><code>parse_date(date_string)</code></a>: Parse date with automatic format detection</p>
</li>
<li>
<p><a href="#translated_month_name"><code>translated_month_name(date, language)</code></a>: Get <code>translated_month_name</code></p>
</li>
<li>
<p><a href="#translated_weekday_name"><code>translated_weekday_name(date, language)</code></a>: Get <code>translated_weekday_name</code></p>
</li>
</ul>
<p><strong><span style="color: var(--md-primary-fg-color);">{...}</span> Transform json</strong></p>
<ul>
<li>
<p><a href="#json_items"><code>json_items(json_string)</code></a>: Extract <code>key_value_items</code> from <code>json_string</code></p>
</li>
<li>
<p><a href="#json_keys"><code>json_keys(json_string)</code></a>: Extract <code>keys</code> from <code>json_string</code></p>
</li>
<li>
<p><a href="#json_merge"><code>json_merge(json_string1, json_string2)</code></a>: Merge <code>json_string1</code> and <code>json_string2</code></p>
</li>
<li>
<p><a href="#json_query"><code>json_query(json_string, query)</code></a>: Extract data from <code>json_string</code> using advanced json querying</p>
</li>
<li>
<p><a href="#json_schema"><code>json_schema(json_string)</code></a>: Return the schema of a json string as <code>[{path, type}]</code></p>
</li>
<li>
<p><a href="#json_values"><code>json_values(json_string)</code></a>: Extract <code>values</code> from <code>json_string</code></p>
</li>
</ul>
<p><strong><span style="color: var(--md-primary-fg-color);">[...]</span> Transform array</strong></p>
<ul>
<li>
<p><a href="#are_arrays_equal"><code>are_arrays_equal(array1, array2)</code></a>: Return true if <code>array1</code> = <code>array2</code></p>
</li>
<li>
<p><a href="#distinct_values"><code>distinct_values(arr)</code></a>: Return distinct values</p>
</li>
<li>
<p><a href="#find_value"><code>find_value(arr, value)</code></a>: Return the first <code>offset</code> (zero-based index) of <code>value</code> in array <code>arr</code></p>
</li>
<li>
<p><a href="#get_value"><code>get_value(key_value_items, search_key)</code></a>: Return the first <code>value</code> with a key <code>search_key</code> from <code>key_value_items</code></p>
</li>
<li>
<p><a href="#last_value"><code>last_value(arr)</code></a>: Return last value of array</p>
</li>
<li>
<p><a href="#max_value"><code>max_value(arr)</code></a>: Return max value of array</p>
</li>
<li>
<p><a href="#median_value"><code>median_value(arr)</code></a>: Return median value of array</p>
</li>
<li>
<p><a href="#min_value"><code>min_value(arr)</code></a>: Return min value of array</p>
</li>
<li>
<p><a href="#percentile_value"><code>percentile_value(arr, percentile)</code></a>: Returns percentile of an array with percentile a float in range [0, 1].</p>
</li>
<li>
<p><a href="#remove_value"><code>remove_value(arr, value)</code></a>: Return an array with all values except <code>value</code>.</p>
</li>
<li>
<p><a href="#sort_values"><code>sort_values(arr)</code></a>: Return sorted array (ascending)</p>
</li>
<li>
<p><a href="#sort_values_desc"><code>sort_values_desc(arr)</code></a>: Return sorted array (descending)</p>
</li>
<li>
<p><a href="#sum_values"><code>sum_values(arr)</code></a>: Return the sum of array values</p>
</li>
</ul>
<p><strong>🧠 Machine learning</strong></p>
<ul>
<li>
<p><a href="#precision_recall_auc"><code>precision_recall_auc(predictions)</code></a>: Returns the Area Under the Precision Recall Curve (a.k.a. AUC PR)</p>
</li>
<li>
<p><a href="#precision_recall_curve"><code>precision_recall_curve(predictions)</code></a>: Returns the Precision-Recall Curve</p>
</li>
<li>
<p><a href="#prophet"><code>prophet(records, periods, kwargs)</code></a>: Forecast time-series using prophet</p>
</li>
<li>
<p><a href="#roc_auc"><code>roc_auc(predictions)</code></a>: Returns the Area Under the Receiver Operating Characteristic Curve (a.k.a. ROC AUC)</p>
</li>
<li>
<p><a href="#roc_curve"><code>roc_curve(predictions)</code></a>: Returns the Receiver Operating Characteristic Curve (a.k.a. ROC Curve)</p>
</li>
<li>
<p><a href="#sentiment_score"><code>sentiment_score(content)</code></a>: Compute sentiment score of <code>content</code></p>
</li>
</ul>
<p><strong>🌐 Graph</strong></p>
<ul>
<li><a href="#connected_components"><code>connected_components(fully_qualified_table)</code></a>: Compute the connected components of a non-directed graph.</li>
</ul>
<p><strong>🔨 Convert data format</strong></p>
<ul>
<li>
<p><a href="#html2pdf"><code>html2pdf(html)</code></a>: Convert <code>html</code> to <code>pdf</code></p>
</li>
<li>
<p><a href="#json2excel"><code>json2excel(data)</code></a>: Dump data to excel file</p>
</li>
<li>
<p><a href="#json2xml"><code>json2xml(json)</code></a>: Returns XML for given JSON string</p>
</li>
<li>
<p><a href="#xml2json"><code>xml2json(xml)</code></a>: Returns JSON as a string for given XML string</p>
</li>
</ul>
<p><strong>👀 Explore</strong></p>
<ul>
<li>
<p><a href="#explore_column"><code>explore_column(fully_qualified_column)</code></a>: Show column statistics</p>
</li>
<li>
<p><a href="#explore_dataset"><code>explore_dataset(fully_qualified_dataset)</code></a>: Show infos about dataset tables</p>
</li>
<li>
<p><a href="#explore_table"><code>explore_table(fully_qualified_table)</code></a>: Show table infos and column statistics</p>
</li>
<li>
<p><a href="#explore_table_row_anomalies"><code>explore_table_row_anomalies(project, kwargs)</code></a>: Show tables with anomalous number of rows today</p>
</li>
</ul>
<p><strong>🔨 Utils</strong></p>
<ul>
<li>
<p><a href="#chart"><code>chart(data, chart_type, ylabel)</code></a>: Return html with a chartjs chart</p>
</li>
<li>
<p><a href="#deduplicate_rows"><code>deduplicate_rows(query_or_table_or_view)</code></a>: Returns the deduplicated rows of <code>query_or_table_or_view</code></p>
</li>
<li>
<p><a href="#get_latest_partition_timestamp"><code>get_latest_partition_timestamp(fully_qualified_table)</code></a>: Return the maximum of the partition column of <code>fully_qualified_table</code></p>
</li>
<li>
<p><a href="#get_table_columns"><code>get_table_columns(fully_qualified_table)</code></a>: Get the column information of the given table from <code>INFORMATION_SCHEMA.COLUMNS</code></p>
</li>
<li>
<p><a href="#get_view_history"><code>get_view_history(fully_qualified_view)</code></a>: Get BigQuery View history</p>
</li>
<li>
<p><a href="#run_python"><code>run_python(python_code, requirements, kwargs)</code></a>: Run any <code>python_code</code>.</p>
</li>
<li>
<p><a href="#timestamp_from_unix_date_time"><code>timestamp_from_unix_date_time(unix_date_time, date_time_part)</code></a>: Interprets <code>unix_date_time</code> as the number of <code>date_time_part</code> since <code>1970-01-01 00:00:00 UTC</code>.</p>
</li>
<li>
<p><a href="#timestamp_to_unix_date_time"><code>timestamp_to_unix_date_time(timestamp_expression, date_time_part)</code></a>: Returns the number of <code>date_time_part</code> since <code>1970-01-01 00:00:00 UTC</code>. </p>
</li>
<li>
<p><a href="#upsert"><code>upsert(query_or_table_or_view, destination_table, insertion_mode, primary_keys, recency_field)</code></a>: Merges <code>query_or_table_or_view</code> into the <code>destination_table</code>.</p>
</li>
</ul>
<p><strong>🔴 Before using see --&gt; <a href="/bigfunctions/getting_started/">Getting Started</a></strong></p>
</div>
<div style="margin-top: 6rem;"></div>

<h2 id="ai">🧠 AI<a class="headerlink" href="#ai" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Generative AI! </strong></p>
<p>Query your data in Natural Language!</p>
</div>
<hr />
<h3 id="ask_bison">ask_bison<a class="headerlink" href="#ask_bison" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/ask_bison.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>ask_bison(question)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Ask Anything!</p>
<p>Google Generative AI <code>bison</code> model will get you an answer.</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Clean data</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:4"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">EU</label><label for="__tabbed_1_2">US</label><label for="__tabbed_1_3">europe-west1</label><label for="__tabbed_1_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: what is the country from the following user input: &#39;</span><span class="n">I</span><span class="w"> </span><span class="n">live</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">frace</span><span class="s1">&#39; ?</span>
<span class="s1">  Answer: formatted as alpha three code</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: what is the country from the following user input: &#39;</span><span class="n">I</span><span class="w"> </span><span class="n">live</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">frace</span><span class="s1">&#39; ?</span>
<span class="s1">  Answer: formatted as alpha three code</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: what is the country from the following user input: &#39;</span><span class="n">I</span><span class="w"> </span><span class="n">live</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">frace</span><span class="s1">&#39; ?</span>
<span class="s1">  Answer: formatted as alpha three code</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: what is the country from the following user input: &#39;</span><span class="n">I</span><span class="w"> </span><span class="n">live</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">frace</span><span class="s1">&#39; ?</span>
<span class="s1">  Answer: formatted as alpha three code</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| answer |
+--------+
| FRA    |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Generate SQL</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:4"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">EU</label><label for="__tabbed_2_2">US</label><label for="__tabbed_2_3">europe-west1</label><label for="__tabbed_2_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: get the 10 products which generated the most revenue in 2023</span>
<span class="s1">  Table: sales</span>
<span class="s1">  Columns: product_id, price, quantity, timestamp</span>
<span class="s1">  Answer: bigquery sql query</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: get the 10 products which generated the most revenue in 2023</span>
<span class="s1">  Table: sales</span>
<span class="s1">  Columns: product_id, price, quantity, timestamp</span>
<span class="s1">  Answer: bigquery sql query</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: get the 10 products which generated the most revenue in 2023</span>
<span class="s1">  Table: sales</span>
<span class="s1">  Columns: product_id, price, quantity, timestamp</span>
<span class="s1">  Answer: bigquery sql query</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">ask_bison</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  Question: get the 10 products which generated the most revenue in 2023</span>
<span class="s1">  Table: sales</span>
<span class="s1">  Columns: product_id, price, quantity, timestamp</span>
<span class="s1">  Answer: bigquery sql query</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">answer</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| answer                                                                                                                                                                   |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| SELECT product_id, SUM(price * quantity) AS revenue
FROM sales
WHERE timestamp BETWEEN &#39;2023-01-01&#39; AND &#39;2023-12-31&#39;
GROUP BY product_id
ORDER BY revenue DESC
LIMIT 10
 |
+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="ask_my_data">ask_my_data<a class="headerlink" href="#ask_my_data" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/ask_my_data.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>ask_my_data(question, fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Ask your data any <code>question</code> in natural language.</p>
<blockquote>
<p>This function calls  <a href="#generate_sql"><code>generate_sql</code></a> to convert the <code>question</code> into a SQL query adapted to your data and execute it.<br>
<em>(If the execution fails, the temporary table <code>bigfunction_result</code> gives details).</em></p>
</blockquote>
<table>
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>question</code></td>
<td>A question to ask over your data. It may start with a verb</td>
</tr>
<tr>
<td><code>fully_qualified_table</code></td>
<td>A table whose schema will be given to the generative AI model for context.<br> - <code>fully_qualified_table</code> format must be like <code>PROJECT.DATASET.TABLE</code>.<br>  - <code>fully_qualified_table</code> must exist.<br>  - You must have read permission on the table schema</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:4"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><input id="__tabbed_3_4" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">EU</label><label for="__tabbed_3_2">US</label><label for="__tabbed_3_3">europe-west1</label><label for="__tabbed_3_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">ask_my_data</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.eu.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">ask_my_data</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.us.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">ask_my_data</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.europe_west1.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">ask_my_data</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.your_region2.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+------------+---------+
| product_id | revenue |
+------------+---------+
+ 8          + 50286   |
+ 6          + 46172   |
+ 10         + 27972   |
+------------+---------+

</code>
</pre>

<hr />
<h3 id="generate_sql">generate_sql<a class="headerlink" href="#generate_sql" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/generate_sql.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>generate_sql(question, fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Transform <code>question</code> to a SQL query.</p>
<blockquote>
<p>This function sends the following enriched question to <a href="#ask_bison"><code>ask_bison</code></a> (<em>the schema of <code>fully_qualified_table</code> is sent so that the generated SQL query is adapted to your data</em>):</p>
<div class="highlight"><pre><span></span><code>Question: {{question}}
Table:    {{fully_qualified_table}}
Columns:  {{columns of fully_qualified_table}}
Answer:   bigquery sql query
</code></pre></div>
</blockquote>
<table>
<thead>
<tr>
<th>Param</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>question</code></td>
<td>A question to ask over your data. It may start with a verb</td>
</tr>
<tr>
<td><code>fully_qualified_table</code></td>
<td>A table whose schema will be given to the generative AI model for context.<br> - <code>fully_qualified_table</code> format must be like <code>PROJECT.DATASET.TABLE</code>.<br>  - <code>fully_qualified_table</code> must exist.<br>  - You must have read permission on the table schema</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:4"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><input id="__tabbed_4_4" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">EU</label><label for="__tabbed_4_2">US</label><label for="__tabbed_4_3">europe-west1</label><label for="__tabbed_4_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">generate_sql</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.eu.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">generate_sql</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.us.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">generate_sql</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.europe_west1.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">generate_sql</span><span class="p">(</span><span class="s1">&#39;get the 3 products which generated the most revenue in 2023&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;bigfunctions.your_region2.sales&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+---------------+-------------------+-------------------------+
| generated_sql | question          | raw_answer_before_clean |
+---------------+-------------------+-------------------------+
+ SELECT ...    + Question: get ... | sql``` SELECT...        |
+---------------+-------------------+-------------------------+

</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="get-data">🛢 Get data<a class="headerlink" href="#get-data" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Get Data </strong></p>
<p>Get data from any API or any website!</p>
</div>
<hr />
<h3 id="exchange_rate">exchange_rate<a class="headerlink" href="#exchange_rate" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/johan-protin" title="Author: Johan PROTIN" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4E03AQH1sYz9Zik0TQ/profile-displayphoto-shrink_800_800/0/1653692064309?e=1688601600&v=beta&t=c6DsEpUE-cC_zdW5vTrfyyBgiTJLeBGg5oUlzJmsnKw" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/exchange_rate.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>exchange_rate(base, to)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get <code>exchange_rate</code>
from <code>base</code> (e.g. <code>USD</code>) to <code>to</code> (e.g. <code>EUR</code>)
<em>using <a href="https://exchangerate.host">https://exchangerate.host</a></em></p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>base</code><br>and<br><code>to</code></td>
<td><code>AED</code>, <code>AFN</code>, <code>ALL</code>, <code>AMD</code>, <code>ANG</code>, <code>AOA</code>, <code>ARS</code>, <code>AUD</code>, <code>AWG</code>, <code>AZN</code>, <code>BAM</code>, <code>BBD</code>, <code>BDT</code>, <code>BGN</code>, <code>BHD</code>, <code>BIF</code>, <code>BMD</code>, <code>BND</code>, <code>BOB</code>, <code>BRL</code>, <code>BSD</code>, <code>BTC</code>, <code>BTN</code>, <code>BWP</code>, <code>BYN</code>, <code>BZD</code>, <code>CAD</code>, <code>CDF</code>, <code>CHF</code>, <code>CLF</code>, <code>CLP</code>, <code>CNH</code>, <code>CNY</code>, <code>COP</code>, <code>CRC</code>, <code>CUC</code>, <code>CUP</code>, <code>CVE</code>, <code>CZK</code>, <code>DJF</code>, <code>DKK</code>, <code>DOP</code>, <code>DZD</code>, <code>EGP</code>, <code>ERN</code>, <code>ETB</code>, <code>EUR</code>, <code>FJD</code>, <code>FKP</code>, <code>GBP</code>, <code>GEL</code>, <code>GGP</code>, <code>GHS</code>, <code>GIP</code>, <code>GMD</code>, <code>GNF</code>, <code>GTQ</code>, <code>GYD</code>, <code>HKD</code>, <code>HNL</code>, <code>HRK</code>, <code>HTG</code>, <code>HUF</code>, <code>IDR</code>, <code>ILS</code>, <code>IMP</code>, <code>INR</code>, <code>IQD</code>, <code>IRR</code>, <code>ISK</code>, <code>JEP</code>, <code>JMD</code>, <code>JOD</code>, <code>JPY</code>, <code>KES</code>, <code>KGS</code>, <code>KHR</code>, <code>KMF</code>, <code>KPW</code>, <code>KRW</code>, <code>KWD</code>, <code>KYD</code>, <code>KZT</code>, <code>LAK</code>, <code>LBP</code>, <code>LKR</code>, <code>LRD</code>, <code>LSL</code>, <code>LYD</code>, <code>MAD</code>, <code>MDL</code>, <code>MGA</code>, <code>MKD</code>, <code>MMK</code>, <code>MNT</code>, <code>MOP</code>, <code>MRU</code>, <code>MUR</code>, <code>MVR</code>, <code>MWK</code>, <code>MXN</code>, <code>MYR</code>, <code>MZN</code>, <code>NAD</code>, <code>NGN</code>, <code>NIO</code>, <code>NOK</code>, <code>NPR</code>, <code>NZD</code>, <code>OMR</code>, <code>PAB</code>, <code>PEN</code>, <code>PGK</code>, <code>PHP</code>, <code>PKR</code>, <code>PLN</code>, <code>PYG</code>, <code>QAR</code>, <code>RON</code>, <code>RSD</code>, <code>RUB</code>, <code>RWF</code>, <code>SAR</code>, <code>SBD</code>, <code>SCR</code>, <code>SDG</code>, <code>SEK</code>, <code>SGD</code>, <code>SHP</code>, <code>SLL</code>, <code>SOS</code>, <code>SRD</code>, <code>SSP</code>, <code>STD</code>, <code>STN</code>, <code>SVC</code>, <code>SYP</code>, <code>SZL</code>, <code>THB</code>, <code>TJS</code>, <code>TMT</code>, <code>TND</code>, <code>TOP</code>, <code>TRY</code>, <code>TTD</code>, <code>TWD</code>, <code>TZS</code>, <code>UAH</code>, <code>UGX</code>, <code>USD</code>, <code>UYU</code>, <code>UZS</code>, <code>VES</code>, <code>VND</code>, <code>VUV</code>, <code>WST</code>, <code>XAF</code>, <code>XAG</code>, <code>XAU</code>, <code>XCD</code>, <code>XDR</code>, <code>XOF</code>, <code>XPD</code>, <code>XPF</code>, <code>XPT</code>, <code>YER</code>, <code>ZAR</code>, <code>ZMW</code>, <code>ZWL</code></td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">To know how many euros a dollar is worth</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:4"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><input id="__tabbed_5_4" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">EU</label><label for="__tabbed_5_2">US</label><label for="__tabbed_5_3">europe-west1</label><label for="__tabbed_5_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">exchange_rate</span><span class="p">(</span><span class="s1">&#39;USD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EUR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">exchange_rate</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">exchange_rate</span><span class="p">(</span><span class="s1">&#39;USD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EUR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">exchange_rate</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">exchange_rate</span><span class="p">(</span><span class="s1">&#39;USD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EUR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">exchange_rate</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">exchange_rate</span><span class="p">(</span><span class="s1">&#39;USD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EUR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">exchange_rate</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------------+
| exchange_rate |
+---------------+
| 0.910437      |
+---------------+
</code>
</pre>

<hr />
<h3 id="get">get<a class="headerlink" href="#get" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get(url, headers)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Request <code>url</code></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Without headers</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:4"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><input id="__tabbed_6_4" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">EU</label><label for="__tabbed_6_2">US</label><label for="__tabbed_6_3">europe-west1</label><label for="__tabbed_6_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://unytics.io/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------+
| response               |
+------------------------+
| &amp;lt;html&gt;...&amp;lt;/html&gt; |
+------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. With Content-Type = application/json headers</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:4"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><input id="__tabbed_7_4" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">EU</label><label for="__tabbed_7_2">US</label><label for="__tabbed_7_3">europe-west1</label><label for="__tabbed_7_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="k">get</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/repos/unytics/bigfunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;Content-Type&quot;: &quot;application/json&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| response |
+----------+
| {...}    |
+----------+
</code>
</pre>

<hr />
<h3 id="get_meteo">get_meteo<a class="headerlink" href="#get_meteo" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/matthieu-rousseau" title="Author: Matthieu Rousseau" target="_blank">
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqTvjIcUoIG2dOnFeVUKQDmj2-iret_1eX43g5149obw&s" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_meteo.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_meteo(latitude, longitude, date)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get <code>meteo</code>
for <code>latitude</code> , <code>longitude</code> and <code>date</code>  </p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:4"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><input id="__tabbed_8_4" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">EU</label><label for="__tabbed_8_2">US</label><label for="__tabbed_8_3">europe-west1</label><label for="__tabbed_8_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_meteo</span><span class="p">(</span><span class="mi">52</span><span class="p">.</span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">.</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2023-05-10&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">meteo</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_meteo</span><span class="p">(</span><span class="mi">52</span><span class="p">.</span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">.</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2023-05-10&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">meteo</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_meteo</span><span class="p">(</span><span class="mi">52</span><span class="p">.</span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">.</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2023-05-10&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">meteo</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_meteo</span><span class="p">(</span><span class="mi">52</span><span class="p">.</span><span class="mi">52</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">.</span><span class="mi">41</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2023-05-10&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">meteo</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| meteo |
+-------+
| {...} |
+-------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="notify">💬 Notify<a class="headerlink" href="#notify" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Send infos to your customers, alert the operations teams, send reportings to business </strong></p>
<p>Spread the word to the world!</p>
</div>
<hr />
<h3 id="send_google_chat_message">send_google_chat_message<a class="headerlink" href="#send_google_chat_message" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/send_google_chat_message.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>send_google_chat_message(message, webhook_url)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Sends <code>message</code> to google chat space
using incoming webhook.</p>
<blockquote>
<p>To get the incoming <code>webhook_url</code>:</p>
<ul>
<li>In a web browser, open Google Chat.</li>
<li>Go to the space to which you want to add a webhook.</li>
<li>At the top, next to space title, click Down Arrow arrow_drop_down &gt; Apps &amp; integrations.</li>
<li>Click Manage webhooks.</li>
<li>If this space already has other webhooks, click Add another. Otherwise, skip this step.</li>
<li>For Name, enter "Quickstart Webhook".</li>
<li>For Avatar URL, enter https://developers.google.com/chat/images/chat-product-icon.png.</li>
<li>Click SAVE.</li>
<li>To copy the full webhook URL, click Copy.</li>
</ul>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:4"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><input id="__tabbed_9_3" name="__tabbed_9" type="radio" /><input id="__tabbed_9_4" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">EU</label><label for="__tabbed_9_2">US</label><label for="__tabbed_9_3">europe-west1</label><label for="__tabbed_9_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_google_chat_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_google_chat_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_google_chat_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_google_chat_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------------------------------------------------------------------------------+
| response                                                                                         |
+--------------------------------------------------------------------------------------------------+
| {
  &#34;name&#34;: ...,
  &#34;sender&#34;: ...,
  &#34;createTime&#34;: ...,
  &#34;text&#34;: &#34;Hello 👋 from bigfunctions!&#34;
}
 |
+--------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="send_mail">send_mail<a class="headerlink" href="#send_mail" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/guillaume-pivette/" title="Author: Guillaume Pivette from Neoxia" target="_blank">
    <img src="https://cdn-images-1.medium.com/v2/resize:fit:92/1*jHdQzX82eU5lyjBYp63NqQ@2x.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/send_mail.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>send_mail(to, subject, content, attachment_filename, attachment_content)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Sends an email
to <code>to</code> email with <code>subject</code>, <code>content</code> and possible attachment (defined by <code>attachment_filename</code> and <code>attachment_content</code>).</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>to</code></td>
<td>One or multiple comma separated emails.<br>For instance <code>contact@unytics.io</code> or <code>contact@unytics.io, paul.marcombes@unytics.io</code></td>
</tr>
<tr>
<td><code>subject</code></td>
<td>Email subject</td>
</tr>
<tr>
<td><code>content</code></td>
<td>Can be plain text, html or <strong>markdown</strong></td>
</tr>
<tr>
<td><code>attachment_filename</code></td>
<td><code>null</code> or filename with extension such as <code>report.xlsx</code></td>
</tr>
<tr>
<td><code>attachment_content</code></td>
<td><code>null</code> or can be plain text or base64 encoded content (useful to send excel files, pdf or images)</td>
</tr>
</tbody>
</table>
<blockquote>
<p>This function uses <a href="https://sendgrid.com/">SendGrid</a> to send the emails and <a href="https://github.com/leemunroe/responsive-html-email-template">Lee Munroe HTML template</a> for styling emails.</p>
</blockquote>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Send email without file attached</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:4"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><input id="__tabbed_10_3" name="__tabbed_10" type="radio" /><input id="__tabbed_10_4" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">EU</label><label for="__tabbed_10_2">US</label><label for="__tabbed_10_3">europe-west1</label><label for="__tabbed_10_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| success |
+---------+
| true    |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Send email with plain text file attached</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:4"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><input id="__tabbed_11_3" name="__tabbed_11" type="radio" /><input id="__tabbed_11_4" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">EU</label><label for="__tabbed_11_2">US</label><label for="__tabbed_11_3">europe-west1</label><label for="__tabbed_11_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.csv&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;col1,col2\nval1,val2\nval3,val4&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| success |
+---------+
| true    |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Send email with excel file attached</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:4"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><input id="__tabbed_12_3" name="__tabbed_12" type="radio" /><input id="__tabbed_12_4" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">EU</label><label for="__tabbed_12_2">US</label><label for="__tabbed_12_3">europe-west1</label><label for="__tabbed_12_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_mail</span><span class="p">(</span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;I love BigFunctions&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Hey Paul, could you deploy more BigFunctions 🙏?&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="s1">&#39;[{&quot;col1&quot;: &quot;val1&quot;, &quot;col2&quot;: &quot;val2&quot;}, {&quot;col1&quot;: &quot;val3&quot;, &quot;col2&quot;: &quot;val4&quot;}]&#39;</span><span class="p">)))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">success</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| success |
+---------+
| true    |
+---------+
</code>
</pre>

<hr />
<h3 id="send_mail_with_excel">send_mail_with_excel<a class="headerlink" href="#send_mail_with_excel" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/send_mail_with_excel.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>send_mail_with_excel(to, subject, content, excel_filename, table_or_view_or_query)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Sends an email with <code>table_or_view_or_query</code> data attached as excel file
(only the first 1000 rows will be copied to the excel file)</p>
<blockquote>
<p>This function calls <code>json2excel</code> and <code>send_mail</code> functions.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>to</code></td>
<td>One or multiple comma separated emails.<br>For instance <code>contact@unytics.io</code> or <code>contact@unytics.io, paul.marcombes@unytics.io</code></td>
</tr>
<tr>
<td><code>subject</code></td>
<td>Email subject</td>
</tr>
<tr>
<td><code>content</code></td>
<td>Can be plain text, html or <strong>markdown</strong></td>
</tr>
<tr>
<td><code>attachment_filename</code></td>
<td>filename with extension such as <code>report.xlsx</code></td>
</tr>
<tr>
<td><code>table_or_view_or_query</code></td>
<td>A fully qualified table or view you have permission to read or a sql query starting with <code>select</code></td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:4"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><input id="__tabbed_13_4" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">EU</label><label for="__tabbed_13_2">US</label><label for="__tabbed_13_3">europe-west1</label><label for="__tabbed_13_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_mail_with_excel</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;Financial Report&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  # Monthly Report from BigQuery</span>

<span class="s1">  ## KPIs</span>

<span class="s1">  - **MRR**: 32,343 USD</span>
<span class="s1">  - **Churn**: 4.2 %</span>
<span class="s1">  - **Subscriptions**: +3452</span>
<span class="s1">  &#39;&#39;&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.eu.sales&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_mail_with_excel</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;Financial Report&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  # Monthly Report from BigQuery</span>

<span class="s1">  ## KPIs</span>

<span class="s1">  - **MRR**: 32,343 USD</span>
<span class="s1">  - **Churn**: 4.2 %</span>
<span class="s1">  - **Subscriptions**: +3452</span>
<span class="s1">  &#39;&#39;&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.us.sales&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_mail_with_excel</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;Financial Report&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  # Monthly Report from BigQuery</span>

<span class="s1">  ## KPIs</span>

<span class="s1">  - **MRR**: 32,343 USD</span>
<span class="s1">  - **Churn**: 4.2 %</span>
<span class="s1">  - **Subscriptions**: +3452</span>
<span class="s1">  &#39;&#39;&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.europe_west1.sales&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_mail_with_excel</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;contact@unytics.io&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;Financial Report&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  # Monthly Report from BigQuery</span>

<span class="s1">  ## KPIs</span>

<span class="s1">  - **MRR**: 32,343 USD</span>
<span class="s1">  - **Churn**: 4.2 %</span>
<span class="s1">  - **Subscriptions**: +3452</span>
<span class="s1">  &#39;&#39;&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;report.xlsx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.your_region2.sales&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/send_mail_with_excel.png"><img alt="screenshot" src="../assets/images/send_mail_with_excel.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="send_slack_message">send_slack_message<a class="headerlink" href="#send_slack_message" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/guillaume-pivette/" title="Author: Guillaume Pivette from Neoxia" target="_blank">
    <img src="https://cdn-images-1.medium.com/v2/resize:fit:92/1*jHdQzX82eU5lyjBYp63NqQ@2x.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/send_slack_message.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>send_slack_message(message, webhook_url)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Sends <code>message</code> to a slack channel.</p>
<blockquote>
<p>To get the <code>webhook_url</code> for a channel, follow this <a href="https://api.slack.com/messaging/webhooks">doc from Slack</a>.</p>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="14:4"><input checked="checked" id="__tabbed_14_1" name="__tabbed_14" type="radio" /><input id="__tabbed_14_2" name="__tabbed_14" type="radio" /><input id="__tabbed_14_3" name="__tabbed_14" type="radio" /><input id="__tabbed_14_4" name="__tabbed_14" type="radio" /><div class="tabbed-labels"><label for="__tabbed_14_1">EU</label><label for="__tabbed_14_2">US</label><label for="__tabbed_14_3">europe-west1</label><label for="__tabbed_14_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_slack_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_slack_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_slack_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_slack_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| response |
+----------+
| ok       |
+----------+
</code>
</pre>

<hr />
<h3 id="send_sms">send_sms<a class="headerlink" href="#send_sms" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/pascal-casteran/" title="Author: Pascal Castéran" target="_blank">
    <img src="https://media.licdn.com/dms/image/C5603AQHZyyBya7CZSw/profile-displayphoto-shrink_200_200/0/1517520997975?e=1691020800&v=beta&t=sd9H4G4eMsnQ63UUMj8IuaMddxZ7tiuUiijWT4kmg0E" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/send_sms.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>send_sms(message, phone_number)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Sends <code>message</code> via SMS to <code>phone_number</code></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">To a French phone number</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="15:4"><input checked="checked" id="__tabbed_15_1" name="__tabbed_15" type="radio" /><input id="__tabbed_15_2" name="__tabbed_15" type="radio" /><input id="__tabbed_15_3" name="__tabbed_15" type="radio" /><input id="__tabbed_15_4" name="__tabbed_15" type="radio" /><div class="tabbed-labels"><label for="__tabbed_15_1">EU</label><label for="__tabbed_15_2">US</label><label for="__tabbed_15_3">europe-west1</label><label for="__tabbed_15_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_sms</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;+33xxxxxxxxx&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_sms</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;+33xxxxxxxxx&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_sms</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;+33xxxxxxxxx&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_sms</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;+33xxxxxxxxx&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------------------------------------+
| response                                           |
+----------------------------------------------------+
| {
  &#34;body&#34;: &#34;Hello 👋 from bigfunctions!&#34;,
  ...
}
 |
+----------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="send_teams_message">send_teams_message<a class="headerlink" href="#send_teams_message" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/baptistepirault/" title="Author: Baptiste PIRAULT" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/5543433" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/send_teams_message.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>send_teams_message(message, webhook_url)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Sends <code>message</code> to a Microsoft Teams channel.</p>
<blockquote>
<p>To get the <code>webhook_url</code> for a channel, follow this <a href="https://learn.microsoft.com/en-us/microsoftteams/platform/webhooks-and-connectors/how-to/add-incoming-webhook">doc from Microsoft</a>.</p>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="16:4"><input checked="checked" id="__tabbed_16_1" name="__tabbed_16" type="radio" /><input id="__tabbed_16_2" name="__tabbed_16" type="radio" /><input id="__tabbed_16_3" name="__tabbed_16" type="radio" /><input id="__tabbed_16_4" name="__tabbed_16" type="radio" /><div class="tabbed-labels"><label for="__tabbed_16_1">EU</label><label for="__tabbed_16_2">US</label><label for="__tabbed_16_3">europe-west1</label><label for="__tabbed_16_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">send_teams_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">send_teams_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">send_teams_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">send_teams_message</span><span class="p">(</span><span class="ss">&quot;Hello 👋 from bigfunctions!&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YOUR_WEBHOOK_URL&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">response</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| response |
+----------+
| ok       |
+----------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="export">🚀 Export<a class="headerlink" href="#export" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Get the data out to the outside world </strong></p>
<p>Make BigQuery as the golden source of all your SAAS and for all your usages</p>
</div>
<hr />
<h3 id="export_to_datastore">export_to_datastore<a class="headerlink" href="#export_to_datastore" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/el-walid/" title="Author: El-Walid" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4E03AQH6oIAxScy4gw/profile-displayphoto-shrink_800_800/0/1654708759415?e=1691625600&v=beta&t=U6Tgwl4JWamN4qYDJP2b498aJt5thWog84-qnbkz0bU" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/export_to_datastore.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>export_to_datastore(project, namespace, kind, key, data)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Exports <code>data</code> to Datastore
(Firestore in Datastore mode).</p>
<p>(💡 <em>For this to work, <code>749389685934-compute@developer.gserviceaccount.com</code> must have datastore user role in your project.</em>)</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>project</code></td>
<td>Google Cloud project hosting the Datastore data. Should be unique for one query</td>
</tr>
<tr>
<td><code>namespace</code></td>
<td>A namespace is like a dataset / a folder. It has many <code>kinds</code> which are like tables. If <code>namespace</code>is <code>null</code>, <code>default</code> namespace will be used.</td>
</tr>
<tr>
<td><code>kind</code></td>
<td><code>kind</code> is like a table: a set of similar objects. Cannot be <code>null</code>.</td>
</tr>
<tr>
<td><code>key</code></td>
<td>Unique identifier where <code>data</code> is stored inside <code>kind</code>. Can be an integer represented as a string (<code>key</code> is then named <code>id</code> in Datastore) or any string (<code>key</code> is named <code>name</code> in Datastore). If <code>null</code> a integer key (represented as string) will be generated.</td>
</tr>
<tr>
<td><code>data</code></td>
<td>A json dict of data</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Export <code>data</code> to default namespace with auto-generated <code>key</code>.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="17:4"><input checked="checked" id="__tabbed_17_1" name="__tabbed_17" type="radio" /><input id="__tabbed_17_2" name="__tabbed_17" type="radio" /><input id="__tabbed_17_3" name="__tabbed_17" type="radio" /><input id="__tabbed_17_4" name="__tabbed_17" type="radio" /><div class="tabbed-labels"><label for="__tabbed_17_1">EU</label><label for="__tabbed_17_2">US</label><label for="__tabbed_17_3">europe-west1</label><label for="__tabbed_17_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;, &quot;email&quot;: &quot;marc@harris.com&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;, &quot;email&quot;: &quot;marc@harris.com&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;, &quot;email&quot;: &quot;marc@harris.com&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;, &quot;email&quot;: &quot;marc@harris.com&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| key              |
+------------------+
| 4503604769587200 |
+------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Export <code>data</code> to default namespace, with email as <code>key</code>.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="18:4"><input checked="checked" id="__tabbed_18_1" name="__tabbed_18" type="radio" /><input id="__tabbed_18_2" name="__tabbed_18" type="radio" /><input id="__tabbed_18_3" name="__tabbed_18" type="radio" /><input id="__tabbed_18_4" name="__tabbed_18" type="radio" /><div class="tabbed-labels"><label for="__tabbed_18_1">EU</label><label for="__tabbed_18_2">US</label><label for="__tabbed_18_3">europe-west1</label><label for="__tabbed_18_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;marc@harris.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;marc@harris.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;marc@harris.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">export_to_datastore</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;marc@harris.com&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;{&quot;name&quot;: &quot;Marc Harris&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| key             |
+-----------------+
| marc@harris.com |
+-----------------+
</code>
</pre>

<hr />
<h3 id="export_to_pubsub">export_to_pubsub<a class="headerlink" href="#export_to_pubsub" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/valentin-cordonnier-99482b1b5" title="Author: Valentin Cordonnier" target="_blank">
    <img src="https://storage.googleapis.com/public-bucket-val/photo-output__01.jpg" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/export_to_pubsub.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>export_to_pubsub(project, topic, data, attributes)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Exports <code>data</code> and <code>attributes</code> to Pub/Sub <code>topic</code>.</p>
<blockquote>
<p>💡 For this to work, <code>749389685934-compute@developer.gserviceaccount.com</code> must have publish permission on your topic.</p>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="19:4"><input checked="checked" id="__tabbed_19_1" name="__tabbed_19" type="radio" /><input id="__tabbed_19_2" name="__tabbed_19" type="radio" /><input id="__tabbed_19_3" name="__tabbed_19" type="radio" /><input id="__tabbed_19_4" name="__tabbed_19" type="radio" /><div class="tabbed-labels"><label for="__tabbed_19_1">EU</label><label for="__tabbed_19_2">US</label><label for="__tabbed_19_3">europe-west1</label><label for="__tabbed_19_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">export_to_pubsub</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_topic&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Your message data&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;attribute1&quot;: &quot;value1&quot;, &quot;attribute2&quot;: &quot;value2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">published_message_id</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">export_to_pubsub</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_topic&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Your message data&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;attribute1&quot;: &quot;value1&quot;, &quot;attribute2&quot;: &quot;value2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">published_message_id</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">export_to_pubsub</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_topic&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Your message data&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;attribute1&quot;: &quot;value1&quot;, &quot;attribute2&quot;: &quot;value2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">published_message_id</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">export_to_pubsub</span><span class="p">(</span><span class="s1">&#39;your-project&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;your_topic&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;Your message data&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;attribute1&quot;: &quot;value1&quot;, &quot;attribute2&quot;: &quot;value2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">published_message_id</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------+
| published_message_id |
+----------------------+
| 1123432546           |
+----------------------+
</code>
</pre>

<hr />
<h3 id="upload_table_to_gsheet">upload_table_to_gsheet<a class="headerlink" href="#upload_table_to_gsheet" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/upload_table_to_gsheet.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>upload_table_to_gsheet(table_or_view_or_query, max_rows, spreadsheet_url, worksheet_name, write_mode)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Upload data from <code>table_or_view_or_query</code> to Google Sheet
(maximum <code>max_rows</code> rows will be uploaded).</p>
<blockquote>
<ol>
<li>💡 For this to work, share your Google Sheet in edit mode to <code>749389685934-compute@developer.gserviceaccount.com</code></li>
<li><code>write_mode</code> controls what is done if a worksheet with <code>worksheet_name</code> already exists. It must be one of:<ul>
<li><code>write_truncate</code>: if the sheet already exists, it will be recreated.</li>
<li><code>write_append</code>: if the sheet already exists, data will be appended to it.</li>
<li><code>raise_error</code>:  if the sheet already exists, an error will be raised.</li>
<li><code>do_nothing</code>:  if the sheet already exists, nothing will be done.</li>
<li><code>null</code>: same as <code>write_truncate</code></li>
</ul>
</li>
</ol>
</blockquote>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. upload 1000 rows from a table</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="20:4"><input checked="checked" id="__tabbed_20_1" name="__tabbed_20" type="radio" /><input id="__tabbed_20_2" name="__tabbed_20" type="radio" /><input id="__tabbed_20_3" name="__tabbed_20" type="radio" /><input id="__tabbed_20_4" name="__tabbed_20" type="radio" /><div class="tabbed-labels"><label for="__tabbed_20_1">EU</label><label for="__tabbed_20_2">US</label><label for="__tabbed_20_3">europe-west1</label><label for="__tabbed_20_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.eu.sales&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.us.sales&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.europe_west1.sales&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;bigfunctions.your_region2.sales&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/upload_table_to_gsheet.png"><img alt="screenshot" src="../assets/images/upload_table_to_gsheet.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<p><span style="color: var(--md-typeset-a-color);">2. with a query</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="21:4"><input checked="checked" id="__tabbed_21_1" name="__tabbed_21" type="radio" /><input id="__tabbed_21_2" name="__tabbed_21" type="radio" /><input id="__tabbed_21_3" name="__tabbed_21" type="radio" /><input id="__tabbed_21_4" name="__tabbed_21" type="radio" /><div class="tabbed-labels"><label for="__tabbed_21_1">EU</label><label for="__tabbed_21_2">US</label><label for="__tabbed_21_3">europe-west1</label><label for="__tabbed_21_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;(select 1 as foo)&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;(select 1 as foo)&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;(select 1 as foo)&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">upload_table_to_gsheet</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;(select 1 as foo)&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;https://docs.google.com/spreadsheets/d/xxxxxxxxx&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;my worksheet&#39;</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;write_truncate&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="upload_to_gsheet">upload_to_gsheet<a class="headerlink" href="#upload_to_gsheet" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/upload_to_gsheet.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>upload_to_gsheet(data, spreadsheet_url, worksheet_name, write_mode)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Upload <code>data</code> (a json array of objects) to a Google Sheet
in <code>write_mode</code>.</p>
<blockquote>
<ol>
<li>💡 For this to work, share your Google Sheet in edit mode to <code>749389685934-compute@developer.gserviceaccount.com</code></li>
<li><code>write_mode</code> controls what is done if a worksheet with <code>worksheet_name</code> already exists. It must be one of:<ul>
<li><code>write_truncate</code>: if the sheet already exists, it will be recreated.</li>
<li><code>write_append</code>: if the sheet already exists, data will be appended to it.</li>
<li><code>raise_error</code>:  if the sheet already exists, an error will be raised.</li>
<li><code>do_nothing</code>:  if the sheet already exists, nothing will be done.</li>
<li><code>null</code>: same as <code>write_truncate</code></li>
</ul>
</li>
</ol>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="22:4"><input checked="checked" id="__tabbed_22_1" name="__tabbed_22" type="radio" /><input id="__tabbed_22_2" name="__tabbed_22" type="radio" /><input id="__tabbed_22_3" name="__tabbed_22" type="radio" /><input id="__tabbed_22_4" name="__tabbed_22" type="radio" /><div class="tabbed-labels"><label for="__tabbed_22_1">EU</label><label for="__tabbed_22_2">US</label><label for="__tabbed_22_3">europe-west1</label><label for="__tabbed_22_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">upload_to_gsheet</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;https://docs.google.com/spreadsheets/d/xxxxxxxxx&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;my worksheet&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">upload_to_gsheet</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;https://docs.google.com/spreadsheets/d/xxxxxxxxx&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;my worksheet&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">upload_to_gsheet</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;https://docs.google.com/spreadsheets/d/xxxxxxxxx&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;my worksheet&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">upload_to_gsheet</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;https://docs.google.com/spreadsheets/d/xxxxxxxxx&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;my worksheet&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------------+
| result        |
+---------------+
| DATA_UPLOADED |
+---------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="1-transform-numeric">1️⃣ Transform numeric<a class="headerlink" href="#1-transform-numeric" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Transform data creatively </strong></p>
</div>
<hr />
<h3 id="format_percentage">format_percentage<a class="headerlink" href="#format_percentage" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/thomas-ellyatt-84a51b218/" title="Author: Thomas Ellyatt" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/110492001?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/format_percentage.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>format_percentage(first_number, second_number, nb_decimals)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return <code>first_number / second_number</code> as a formatted percentage
in a user-friendly format. You can use this function
to handle a safe divide of the two numbers as well as your desired level of rounding.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="23:4"><input checked="checked" id="__tabbed_23_1" name="__tabbed_23" type="radio" /><input id="__tabbed_23_2" name="__tabbed_23" type="radio" /><input id="__tabbed_23_3" name="__tabbed_23" type="radio" /><input id="__tabbed_23_4" name="__tabbed_23" type="radio" /><div class="tabbed-labels"><label for="__tabbed_23_1">EU</label><label for="__tabbed_23_2">US</label><label for="__tabbed_23_3">europe-west1</label><label for="__tabbed_23_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">format_percentage</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">formatted_percentage</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------+
| formatted_percentage |
+----------------------+
| 33.33 %              |
+----------------------+
</code>
</pre>

<hr />
<h3 id="quantize_into_bins">quantize_into_bins<a class="headerlink" href="#quantize_into_bins" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/quantize_into_bins.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>quantize_into_bins(value, bin_bounds)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get the <code>bin_range</code> in which belongs <code>value</code>
with bins defined by their <code>bin_bounds</code>.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="24:4"><input checked="checked" id="__tabbed_24_1" name="__tabbed_24" type="radio" /><input id="__tabbed_24_2" name="__tabbed_24" type="radio" /><input id="__tabbed_24_3" name="__tabbed_24" type="radio" /><input id="__tabbed_24_4" name="__tabbed_24" type="radio" /><div class="tabbed-labels"><label for="__tabbed_24_1">EU</label><label for="__tabbed_24_2">US</label><label for="__tabbed_24_3">europe-west1</label><label for="__tabbed_24_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]-∞, 0[   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="25:4"><input checked="checked" id="__tabbed_25_1" name="__tabbed_25" type="radio" /><input id="__tabbed_25_2" name="__tabbed_25" type="radio" /><input id="__tabbed_25_3" name="__tabbed_25" type="radio" /><input id="__tabbed_25_4" name="__tabbed_25" type="radio" /><div class="tabbed-labels"><label for="__tabbed_25_1">EU</label><label for="__tabbed_25_2">US</label><label for="__tabbed_25_3">europe-west1</label><label for="__tabbed_25_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [1, 5[    |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="26:4"><input checked="checked" id="__tabbed_26_1" name="__tabbed_26" type="radio" /><input id="__tabbed_26_2" name="__tabbed_26" type="radio" /><input id="__tabbed_26_3" name="__tabbed_26" type="radio" /><input id="__tabbed_26_4" name="__tabbed_26" type="radio" /><div class="tabbed-labels"><label for="__tabbed_26_1">EU</label><label for="__tabbed_26_2">US</label><label for="__tabbed_26_3">europe-west1</label><label for="__tabbed_26_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [5, 10]   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="27:4"><input checked="checked" id="__tabbed_27_1" name="__tabbed_27" type="radio" /><input id="__tabbed_27_2" name="__tabbed_27" type="radio" /><input id="__tabbed_27_3" name="__tabbed_27" type="radio" /><input id="__tabbed_27_4" name="__tabbed_27" type="radio" /><div class="tabbed-labels"><label for="__tabbed_27_1">EU</label><label for="__tabbed_27_2">US</label><label for="__tabbed_27_3">europe-west1</label><label for="__tabbed_27_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]10, +∞[  |
+-----------+
</code>
</pre>

<hr />
<h3 id="quantize_into_fixed_width_bins">quantize_into_fixed_width_bins<a class="headerlink" href="#quantize_into_fixed_width_bins" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/quantize_into_fixed_width_bins.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>quantize_into_fixed_width_bins(value, min_bound, max_bound, nb_bins)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get the <code>bin_range</code> in which belongs <code>value</code>
with bins defined so that there are <code>nb_bins</code> bins of same width between <code>min_bound</code> and <code>max_bound</code> plus a bin <code>]-∞, min_bound[</code> and a bin <code>]max_bound, +∞[</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="28:4"><input checked="checked" id="__tabbed_28_1" name="__tabbed_28" type="radio" /><input id="__tabbed_28_2" name="__tabbed_28" type="radio" /><input id="__tabbed_28_3" name="__tabbed_28" type="radio" /><input id="__tabbed_28_4" name="__tabbed_28" type="radio" /><div class="tabbed-labels"><label for="__tabbed_28_1">EU</label><label for="__tabbed_28_2">US</label><label for="__tabbed_28_3">europe-west1</label><label for="__tabbed_28_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]-∞, 0[   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="29:4"><input checked="checked" id="__tabbed_29_1" name="__tabbed_29" type="radio" /><input id="__tabbed_29_2" name="__tabbed_29" type="radio" /><input id="__tabbed_29_3" name="__tabbed_29" type="radio" /><input id="__tabbed_29_4" name="__tabbed_29" type="radio" /><div class="tabbed-labels"><label for="__tabbed_29_1">EU</label><label for="__tabbed_29_2">US</label><label for="__tabbed_29_3">europe-west1</label><label for="__tabbed_29_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [0, 10[   |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="30:4"><input checked="checked" id="__tabbed_30_1" name="__tabbed_30" type="radio" /><input id="__tabbed_30_2" name="__tabbed_30" type="radio" /><input id="__tabbed_30_3" name="__tabbed_30" type="radio" /><input id="__tabbed_30_4" name="__tabbed_30" type="radio" /><div class="tabbed-labels"><label for="__tabbed_30_1">EU</label><label for="__tabbed_30_2">US</label><label for="__tabbed_30_3">europe-west1</label><label for="__tabbed_30_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">97</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| [90, 100] |
+-----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="31:4"><input checked="checked" id="__tabbed_31_1" name="__tabbed_31" type="radio" /><input id="__tabbed_31_2" name="__tabbed_31" type="radio" /><input id="__tabbed_31_3" name="__tabbed_31" type="radio" /><input id="__tabbed_31_4" name="__tabbed_31" type="radio" /><div class="tabbed-labels"><label for="__tabbed_31_1">EU</label><label for="__tabbed_31_2">US</label><label for="__tabbed_31_3">europe-west1</label><label for="__tabbed_31_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">quantize_into_fixed_width_bins</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">bin_range</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| bin_range |
+-----------+
| ]100, +∞[ |
+-----------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-string">✨ Transform string<a class="headerlink" href="#transform-string" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Transform data creatively </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="deidentify">deidentify<a class="headerlink" href="#deidentify" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/deidentify.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>deidentify(text, info_types)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Masks sensitive information of type <code>info_types</code> in <code>text</code>
using <a href="https://cloud.google.com/dlp">Cloud Data Loss Prevention</a></p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values (can be one or any combination of the following values separated by comma)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>info_types</code></td>
<td><code>ADVERTISING_ID</code>, <code>AGE</code>, <code>AUTH_TOKEN</code>, <code>AWS_CREDENTIALS</code>, <code>AZURE_AUTH_TOKEN</code>, <code>BASIC_AUTH_HEADER</code>, <code>CREDIT_CARD_NUMBER</code>, <code>CREDIT_CARD_TRACK_NUMBER</code>, <code>DATE</code>, <code>DATE_OF_BIRTH</code>, <code>DOMAIN_NAME</code>, <code>EMAIL_ADDRESS</code>, <code>ENCRYPTION_KEY</code>, <code>ETHNIC_GROUP</code>, <code>FEMALE_NAME</code>, <code>FIRST_NAME</code>, <code>GCP_API_KEY</code>, <code>GCP_CREDENTIALS</code>, <code>GENDER</code>, <code>GENERIC_ID</code>, <code>HTTP_COOKIE</code>, <code>HTTP_COOKIE</code>, <code>IBAN_CODE</code>, <code>ICCID_NUMBER</code>, <code>ICD10_CODE</code>, <code>ICD9_CODE</code>, <code>IMEI_HARDWARE_ID</code>, <code>IMSI_ID</code>, <code>IP_ADDRESS</code>, <code>JSON_WEB_TOKEN</code>, <code>LAST_NAME</code>, <code>LOCATION</code>, <code>LOCATION_COORDINATES</code>, <code>MAC_ADDRESS</code>, <code>MAC_ADDRESS_LOCAL</code>, <code>MALE_NAME</code>, <code>MARITAL_STATUS</code>, <code>MEDICAL_RECORD_NUMBER</code>, <code>MEDICAL_TERM</code>, <code>OAUTH_CLIENT_SECRET</code>, <code>ORGANIZATION_NAME</code>, <code>PASSPORT</code>, <code>PASSWORD</code>, <code>PERSON_NAME</code>, <code>PHONE_NUMBER</code>, <code>SSL_CERTIFICATE</code>, <code>STORAGE_SIGNED_POLICY_DOCUMENT</code>, <code>STORAGE_SIGNED_URL</code>, <code>STREET_ADDRESS</code>, <code>SWIFT_CODE</code>, <code>TIME</code>, <code>URL</code>, <code>VAT_NUMBER</code>, <code>VEHICLE_IDENTIFICATION_NUMBER</code>, <code>WEAK_PASSWORD_HASH</code>, <code>XSRF_TOKEN</code></td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. String with email in it.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="32:4"><input checked="checked" id="__tabbed_32_1" name="__tabbed_32" type="radio" /><input id="__tabbed_32_2" name="__tabbed_32" type="radio" /><input id="__tabbed_32_3" name="__tabbed_32" type="radio" /><input id="__tabbed_32_4" name="__tabbed_32" type="radio" /><div class="tabbed-labels"><label for="__tabbed_32_1">EU</label><label for="__tabbed_32_2">US</label><label for="__tabbed_32_3">europe-west1</label><label for="__tabbed_32_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, EMAIL_ADDRESS&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, EMAIL_ADDRESS&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, EMAIL_ADDRESS&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, EMAIL_ADDRESS&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------+
| masked_info                 |
+-----------------------------+
| My email is [EMAIL_ADDRESS] |
+-----------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. String with phone number in it.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="33:4"><input checked="checked" id="__tabbed_33_1" name="__tabbed_33" type="radio" /><input id="__tabbed_33_2" name="__tabbed_33" type="radio" /><input id="__tabbed_33_3" name="__tabbed_33" type="radio" /><input id="__tabbed_33_4" name="__tabbed_33" type="radio" /><div class="tabbed-labels"><label for="__tabbed_33_1">EU</label><label for="__tabbed_33_2">US</label><label for="__tabbed_33_3">europe-west1</label><label for="__tabbed_33_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, email_address&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, email_address&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, email_address&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;PHONE_NUMBER, email_address&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------+
| masked_info                       |
+-----------------------------------+
| My phone number is [PHONE_NUMBER] |
+-----------------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. If <code>info_types</code> is <code>null</code> or empty, all built-in info types may be used</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="34:4"><input checked="checked" id="__tabbed_34_1" name="__tabbed_34" type="radio" /><input id="__tabbed_34_2" name="__tabbed_34" type="radio" /><input id="__tabbed_34_3" name="__tabbed_34" type="radio" /><input id="__tabbed_34_4" name="__tabbed_34" type="radio" /><div class="tabbed-labels"><label for="__tabbed_34_1">EU</label><label for="__tabbed_34_2">US</label><label for="__tabbed_34_3">europe-west1</label><label for="__tabbed_34_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">deidentify</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">masked_info</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------------------------+
| masked_info                              |
+------------------------------------------+
| My email is [PERSON_NAME][EMAIL_ADDRESS] |
+------------------------------------------+
</code>
</pre>

<hr />
<h3 id="detect_sensitive_info">detect_sensitive_info<a class="headerlink" href="#detect_sensitive_info" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/detect_sensitive_info.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>detect_sensitive_info(text)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Detect sensitive information in <code>text</code>
using <a href="https://cloud.google.com/dlp">Cloud Data Loss Prevention</a></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. String with email in it.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="35:4"><input checked="checked" id="__tabbed_35_1" name="__tabbed_35" type="radio" /><input id="__tabbed_35_2" name="__tabbed_35" type="radio" /><input id="__tabbed_35_3" name="__tabbed_35" type="radio" /><input id="__tabbed_35_4" name="__tabbed_35" type="radio" /><div class="tabbed-labels"><label for="__tabbed_35_1">EU</label><label for="__tabbed_35_2">US</label><label for="__tabbed_35_3">europe-west1</label><label for="__tabbed_35_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My email is shivam@google.co.in&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| sensitive_info                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [{&#34;string&#34;: &#34;shivam&#34;, &#34;info_type&#34;: &#34;PERSON_NAME&#34;, &#34;confidence&#34;: &#34;POSSIBLE&#34;}, {&#34;string&#34;: &#34;shivam&#34;, &#34;info_type&#34;: &#34;FIRST_NAME&#34;, &#34;confidence&#34;: &#34;POSSIBLE&#34;}, {&#34;string&#34;: &#34;shivam&#34;, &#34;info_type&#34;: &#34;FEMALE_NAME&#34;, &#34;confidence&#34;: &#34;POSSIBLE&#34;}, {&#34;string&#34;: &#34;shivam&#34;, &#34;info_type&#34;: &#34;MALE_NAME&#34;, &#34;confidence&#34;: &#34;POSSIBLE&#34;}, {&#34;string&#34;: &#34;google&#34;, &#34;info_type&#34;: &#34;ORGANIZATION_NAME&#34;, &#34;confidence&#34;: &#34;POSSIBLE&#34;}, {&#34;string&#34;: &#34;shivam@google.co.in&#34;, &#34;info_type&#34;: &#34;EMAIL_ADDRESS&#34;, &#34;confidence&#34;: &#34;VERY_LIKELY&#34;}, {&#34;string&#34;: &#34;google.co.in&#34;, &#34;info_type&#34;: &#34;DOMAIN_NAME&#34;, &#34;confidence&#34;: &#34;LIKELY&#34;}] |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. String with phone number in it.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="36:4"><input checked="checked" id="__tabbed_36_1" name="__tabbed_36" type="radio" /><input id="__tabbed_36_2" name="__tabbed_36" type="radio" /><input id="__tabbed_36_3" name="__tabbed_36" type="radio" /><input id="__tabbed_36_4" name="__tabbed_36" type="radio" /><div class="tabbed-labels"><label for="__tabbed_36_1">EU</label><label for="__tabbed_36_2">US</label><label for="__tabbed_36_3">europe-west1</label><label for="__tabbed_36_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">detect_sensitive_info</span><span class="p">(</span><span class="ss">&quot;My phone number is 0123456789&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sensitive_info</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------------------------------------------------------------------------------+
| sensitive_info                                                                  |
+---------------------------------------------------------------------------------+
| [{&#34;string&#34;: &#34;0123456789&#34;, &#34;info_type&#34;: &#34;PHONE_NUMBER&#34;, &#34;confidence&#34;: &#34;LIKELY&#34;}] |
+---------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="faker">faker<a class="headerlink" href="#faker" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/faker.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>faker(what, locale)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Generates fake data
of type <code>what</code> and localized with <code>locale</code> parameter (using <a href="https://faker.readthedocs.io/">faker python library</a>)</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>what</code></td>
<td><code>aba</code>, <code>address</code>, <code>administrative_unit</code>, <code>am_pm</code>, <code>android_platform_token</code>, <code>ascii_company_email</code>, <code>ascii_email</code>, <code>ascii_free_email</code>, <code>ascii_safe_email</code>, <code>bank_country</code>, <code>bban</code>, <code>binary</code>, <code>boolean</code>, <code>bothify</code>, <code>bs</code>, <code>building_number</code>, <code>catch_phrase</code>, <code>century</code>, <code>chrome</code>, <code>city</code>, <code>city_prefix</code>, <code>city_suffix</code>, <code>color</code>, <code>color_name</code>, <code>company</code>, <code>company_email</code>, <code>company_suffix</code>, <code>coordinate</code>, <code>country</code>, <code>country_calling_code</code>, <code>country_code</code>, <code>credit_card_expire</code>, <code>credit_card_full</code>, <code>credit_card_number</code>, <code>credit_card_provider</code>, <code>credit_card_security_code</code>, <code>cryptocurrency</code>, <code>cryptocurrency_code</code>, <code>cryptocurrency_name</code>, <code>csv</code>, <code>currency</code>, <code>currency_code</code>, <code>currency_name</code>, <code>currency_symbol</code>, <code>current_country</code>, <code>current_country_code</code>, <code>date</code>, <code>date_between</code>, <code>date_between_dates</code>, <code>date_object</code>, <code>date_of_birth</code>, <code>date_this_century</code>, <code>date_this_decade</code>, <code>date_this_month</code>, <code>date_this_year</code>, <code>date_time</code>, <code>date_time_ad</code>, <code>date_time_between</code>, <code>date_time_between_dates</code>, <code>date_time_this_century</code>, <code>date_time_this_decade</code>, <code>date_time_this_month</code>, <code>date_time_this_year</code>, <code>day_of_month</code>, <code>day_of_week</code>, <code>dga</code>, <code>domain_name</code>, <code>domain_word</code>, <code>dsv</code>, <code>ean</code>, <code>ean13</code>, <code>ean8</code>, <code>ein</code>, <code>email</code>, <code>emoji</code>, <code>file_extension</code>, <code>file_name</code>, <code>file_path</code>, <code>firefox</code>, <code>first_name</code>, <code>first_name_female</code>, <code>first_name_male</code>, <code>first_name_nonbinary</code>, <code>fixed_width</code>, <code>free_email</code>, <code>free_email_domain</code>, <code>future_date</code>, <code>future_datetime</code>, <code>get_providers</code>, <code>hex_color</code>, <code>hexify</code>, <code>hostname</code>, <code>http_method</code>, <code>iana_id</code>, <code>iban</code>, <code>image_url</code>, <code>internet_explorer</code>, <code>invalid_ssn</code>, <code>ios_platform_token</code>, <code>ipv4</code>, <code>ipv4_network_class</code>, <code>ipv4_private</code>, <code>ipv4_public</code>, <code>ipv6</code>, <code>isbn10</code>, <code>isbn13</code>, <code>iso8601</code>, <code>items</code>, <code>itin</code>, <code>job</code>, <code>json</code>, <code>json_bytes</code>, <code>language_code</code>, <code>language_name</code>, <code>last_name</code>, <code>last_name_female</code>, <code>last_name_male</code>, <code>last_name_nonbinary</code>, <code>latitude</code>, <code>latlng</code>, <code>lexify</code>, <code>license_plate</code>, <code>linux_platform_token</code>, <code>linux_processor</code>, <code>local_latlng</code>, <code>locale</code>, <code>localized_ean</code>, <code>localized_ean13</code>, <code>localized_ean8</code>, <code>location_on_land</code>, <code>longitude</code>, <code>mac_address</code>, <code>mac_platform_token</code>, <code>mac_processor</code>, <code>md5</code>, <code>military_apo</code>, <code>military_dpo</code>, <code>military_ship</code>, <code>military_state</code>, <code>mime_type</code>, <code>month</code>, <code>month_name</code>, <code>msisdn</code>, <code>name</code>, <code>name_female</code>, <code>name_male</code>, <code>name_nonbinary</code>, <code>nic_handle</code>, <code>nic_handles</code>, <code>null_boolean</code>, <code>numerify</code>, <code>opera</code>, <code>paragraph</code>, <code>paragraphs</code>, <code>password</code>, <code>past_date</code>, <code>past_datetime</code>, <code>phone_number</code>, <code>port_number</code>, <code>postalcode</code>, <code>postalcode_in_state</code>, <code>postalcode_plus4</code>, <code>postcode</code>, <code>postcode_in_state</code>, <code>prefix</code>, <code>prefix_female</code>, <code>prefix_male</code>, <code>prefix_nonbinary</code>, <code>pricetag</code>, <code>profile</code>, <code>psv</code>, <code>pybool</code>, <code>pydecimal</code>, <code>pydict</code>, <code>pyfloat</code>, <code>pyint</code>, <code>pyiterable</code>, <code>pylist</code>, <code>pyobject</code>, <code>pyset</code>, <code>pystr</code>, <code>pystr_format</code>, <code>pystruct</code>, <code>pytimezone</code>, <code>pytuple</code>, <code>random_choices</code>, <code>random_digit</code>, <code>random_digit_not_null</code>, <code>random_digit_not_null_or_empty</code>, <code>random_digit_or_empty</code>, <code>random_element</code>, <code>random_elements</code>, <code>random_int</code>, <code>random_letter</code>, <code>random_letters</code>, <code>random_lowercase_letter</code>, <code>random_number</code>, <code>random_sample</code>, <code>random_uppercase_letter</code>, <code>randomize_nb_elements</code>, <code>rgb_color</code>, <code>rgb_css_color</code>, <code>ripe_id</code>, <code>safari</code>, <code>safe_color_name</code>, <code>safe_domain_name</code>, <code>safe_email</code>, <code>safe_hex_color</code>, <code>sbn9</code>, <code>secondary_address</code>, <code>seed_instance</code>, <code>sentence</code>, <code>sentences</code>, <code>sha1</code>, <code>sha256</code>, <code>simple_profile</code>, <code>slug</code>, <code>ssn</code>, <code>state</code>, <code>state_abbr</code>, <code>street_address</code>, <code>street_name</code>, <code>street_suffix</code>, <code>suffix</code>, <code>suffix_female</code>, <code>suffix_male</code>, <code>suffix_nonbinary</code>, <code>swift</code>, <code>swift11</code>, <code>swift8</code>, <code>tar</code>, <code>text</code>, <code>texts</code>, <code>time</code>, <code>time_delta</code>, <code>time_object</code>, <code>time_series</code>, <code>timezone</code>, <code>tld</code>, <code>tsv</code>, <code>unix_device</code>, <code>unix_partition</code>, <code>unix_time</code>, <code>upc_a</code>, <code>upc_e</code>, <code>uri</code>, <code>uri_extension</code>, <code>uri_page</code>, <code>uri_path</code>, <code>url</code>, <code>user_agent</code>, <code>user_name</code>, <code>uuid4</code>, <code>windows_platform_token</code>, <code>word</code>, <code>words</code>, <code>year</code>, <code>zip</code>, <code>zipcode</code>, <code>zipcode_in_state</code>, <code>zipcode_plus4</code></td>
</tr>
<tr>
<td><code>locale</code></td>
<td><code>null</code>, <code>ar_AA</code>, <code>ar_AE</code>, <code>ar_BH</code>, <code>ar_EG</code>, <code>ar_JO</code>, <code>ar_PS</code>, <code>ar_SA</code>, <code>az_AZ</code>, <code>bg_BG</code>, <code>bn_BD</code>, <code>bs_BA</code>, <code>cs_CZ</code>, <code>da_DK</code>, <code>de</code>, <code>de_AT</code>, <code>de_CH</code>, <code>de_DE</code>, <code>dk_DK</code>, <code>el_CY</code>, <code>el_GR</code>, <code>en</code>, <code>en_AU</code>, <code>en_CA</code>, <code>en_GB</code>, <code>en_IE</code>, <code>en_IN</code>, <code>en_NZ</code>, <code>en_PH</code>, <code>en_TH</code>, <code>en_US</code>, <code>es</code>, <code>es_AR</code>, <code>es_CA</code>, <code>es_CL</code>, <code>es_CO</code>, <code>es_ES</code>, <code>es_MX</code>, <code>et_EE</code>, <code>fa_IR</code>, <code>fi_FI</code>, <code>fil_PH</code>, <code>fr_BE</code>, <code>fr_CA</code>, <code>fr_CH</code>, <code>fr_FR</code>, <code>fr_QC</code>, <code>ga_IE</code>, <code>he_IL</code>, <code>hi_IN</code>, <code>hr_HR</code>, <code>hu_HU</code>, <code>hy_AM</code>, <code>id_ID</code>, <code>it_CH</code>, <code>it_IT</code>, <code>ja_JP</code>, <code>ka_GE</code>, <code>ko_KR</code>, <code>la</code>, <code>lb_LU</code>, <code>lt_LT</code>, <code>lv_LV</code>, <code>mt_MT</code>, <code>ne_NP</code>, <code>nl_BE</code>, <code>nl_NL</code>, <code>no_NO</code>, <code>or_IN</code>, <code>pl_PL</code>, <code>pt_BR</code>, <code>pt_PT</code>, <code>ro_RO</code>, <code>ru_RU</code>, <code>sk_SK</code>, <code>sl_SI</code>, <code>sq_AL</code>, <code>sv_SE</code>, <code>ta_IN</code>, <code>th</code>, <code>th_TH</code>, <code>tl_PH</code>, <code>tr_TR</code>, <code>tw_GH</code>, <code>uk_UA</code>, <code>vi_VN</code>, <code>zh_CN</code>, <code>zh_TW</code></td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Generate fake italian name</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="37:4"><input checked="checked" id="__tabbed_37_1" name="__tabbed_37" type="radio" /><input id="__tabbed_37_2" name="__tabbed_37" type="radio" /><input id="__tabbed_37_3" name="__tabbed_37" type="radio" /><input id="__tabbed_37_4" name="__tabbed_37" type="radio" /><div class="tabbed-labels"><label for="__tabbed_37_1">EU</label><label for="__tabbed_37_2">US</label><label for="__tabbed_37_3">europe-west1</label><label for="__tabbed_37_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;it_IT&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;it_IT&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;it_IT&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;it_IT&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| fake_data        |
+------------------+
| Michela Beccaria |
+------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Generate fake IPv4 address (without specifying locale)</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="38:4"><input checked="checked" id="__tabbed_38_1" name="__tabbed_38" type="radio" /><input id="__tabbed_38_2" name="__tabbed_38" type="radio" /><input id="__tabbed_38_3" name="__tabbed_38" type="radio" /><input id="__tabbed_38_4" name="__tabbed_38" type="radio" /><div class="tabbed-labels"><label for="__tabbed_38_1">EU</label><label for="__tabbed_38_2">US</label><label for="__tabbed_38_3">europe-west1</label><label for="__tabbed_38_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;ipv4_private&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;ipv4_private&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;ipv4_private&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">faker</span><span class="p">(</span><span class="ss">&quot;ipv4_private&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">fake_data</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------------+
| fake_data     |
+---------------+
| 10.52.207.187 |
+---------------+
</code>
</pre>

<hr />
<h3 id="is_email_valid">is_email_valid<a class="headerlink" href="#is_email_valid" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/chris-j-goddard/" title="Credits: Chris Goddard" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQGC7iFJlo7zUA/profile-displayphoto-shrink_200_200/0/1603420752762?e=1675900800&v=beta&t=9UU_ofvohzGANcMoZ7O5YR_y8DUg4ayAylSA9sWOESM" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/is_email_valid.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>is_email_valid(email)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return true if <code>email</code> is valid
<em>(inspired from <a href="https://www.reddit.com/r/bigquery/comments/dshge0/comment/f6r7rpt/">this reddit answer</a>)</em></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. with a valid email</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="39:4"><input checked="checked" id="__tabbed_39_1" name="__tabbed_39" type="radio" /><input id="__tabbed_39_2" name="__tabbed_39" type="radio" /><input id="__tabbed_39_3" name="__tabbed_39" type="radio" /><input id="__tabbed_39_4" name="__tabbed_39" type="radio" /><div class="tabbed-labels"><label for="__tabbed_39_1">EU</label><label for="__tabbed_39_2">US</label><label for="__tabbed_39_3">europe-west1</label><label for="__tabbed_39_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@unytics.io&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| is_email_valid |
+----------------+
| true           |
+----------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. with incorrect format</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="40:4"><input checked="checked" id="__tabbed_40_1" name="__tabbed_40" type="radio" /><input id="__tabbed_40_2" name="__tabbed_40" type="radio" /><input id="__tabbed_40_3" name="__tabbed_40" type="radio" /><input id="__tabbed_40_4" name="__tabbed_40" type="radio" /><div class="tabbed-labels"><label for="__tabbed_40_1">EU</label><label for="__tabbed_40_2">US</label><label for="__tabbed_40_3">europe-west1</label><label for="__tabbed_40_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul/marcombes@example.com&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| is_email_valid |
+----------------+
| false          |
+----------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. with a domain not registrable</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="41:4"><input checked="checked" id="__tabbed_41_1" name="__tabbed_41" type="radio" /><input id="__tabbed_41_2" name="__tabbed_41" type="radio" /><input id="__tabbed_41_3" name="__tabbed_41" type="radio" /><input id="__tabbed_41_4" name="__tabbed_41" type="radio" /><div class="tabbed-labels"><label for="__tabbed_41_1">EU</label><label for="__tabbed_41_2">US</label><label for="__tabbed_41_3">europe-west1</label><label for="__tabbed_41_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_email_valid</span><span class="p">(</span><span class="s1">&#39;paul.marcombes@example.con&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_email_valid</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| is_email_valid |
+----------------+
| false          |
+----------------+
</code>
</pre>

<hr />
<h3 id="levenshtein">levenshtein<a class="headerlink" href="#levenshtein" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/levenshtein.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>levenshtein(string1, string2)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Compute levenshtein distance between <code>string1</code> and <code>string2</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="42:4"><input checked="checked" id="__tabbed_42_1" name="__tabbed_42" type="radio" /><input id="__tabbed_42_2" name="__tabbed_42" type="radio" /><input id="__tabbed_42_3" name="__tabbed_42" type="radio" /><input id="__tabbed_42_4" name="__tabbed_42" type="radio" /><div class="tabbed-labels"><label for="__tabbed_42_1">EU</label><label for="__tabbed_42_2">US</label><label for="__tabbed_42_3">europe-west1</label><label for="__tabbed_42_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">levenshtein</span><span class="p">(</span><span class="s1">&#39;bak&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;book&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distance</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| distance |
+----------+
| 2        |
+----------+
</code>
</pre>

<hr />
<h3 id="parse_url">parse_url<a class="headerlink" href="#parse_url" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/parse_url.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>parse_url(url)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return <code>url</code> parts
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/regex-parse-url.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="43:4"><input checked="checked" id="__tabbed_43_1" name="__tabbed_43" type="radio" /><input id="__tabbed_43_2" name="__tabbed_43" type="radio" /><input id="__tabbed_43_3" name="__tabbed_43" type="radio" /><input id="__tabbed_43_4" name="__tabbed_43" type="radio" /><div class="tabbed-labels"><label for="__tabbed_43_1">EU</label><label for="__tabbed_43_2">US</label><label for="__tabbed_43_3">europe-west1</label><label for="__tabbed_43_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_url</span><span class="p">(</span><span class="s1">&#39;https://www.yoursite.com/pricing/details?myparam1=123&amp;myparam2=abc#newsfeed&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">url_parts</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------------------------------------------------------------------------------------------------------------------------------------+
| url_parts                                                                                                                                            |
+------------------------------------------------------------------------------------------------------------------------------------------------------+
| struct&lt;&#39;www.yoursite.com&#39; as host, &#39;pricing/details&#39; as path, &#39;myparam1=123&amp;myparam2=abc#newsfeed&#39; as query, &#39;newsfeed&#39; as ref, &#39;https&#39; as protocol&gt; |
+------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="remove_accents">remove_accents<a class="headerlink" href="#remove_accents" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_accents.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_accents(str)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove accents</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="44:4"><input checked="checked" id="__tabbed_44_1" name="__tabbed_44" type="radio" /><input id="__tabbed_44_2" name="__tabbed_44" type="radio" /><input id="__tabbed_44_3" name="__tabbed_44" type="radio" /><input id="__tabbed_44_4" name="__tabbed_44" type="radio" /><div class="tabbed-labels"><label for="__tabbed_44_1">EU</label><label for="__tabbed_44_2">US</label><label for="__tabbed_44_3">europe-west1</label><label for="__tabbed_44_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_accents</span><span class="p">(</span><span class="s1">&#39;Voilà !&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| Voila !        |
+----------------+
</code>
</pre>

<hr />
<h3 id="remove_extra_whitespaces">remove_extra_whitespaces<a class="headerlink" href="#remove_extra_whitespaces" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/redata/" title="Author: re_data" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4E0BAQFYSyHBVMp96w/company-logo_200_200/0/1625304367962?e=1689206400&v=beta&t=Cf5CM1rLK19z_X7Z5ORKTg_G39XpU482TSJQvtpu5nc" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_extra_whitespaces.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_extra_whitespaces(str)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove unwanted whitespaces
<em>(inspired from <a href="https://github.com/re-data/dbt-re-data/blob/main/macros/public/cleaning/clean_additional_whitespace.sql">re_data dbt repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="45:4"><input checked="checked" id="__tabbed_45_1" name="__tabbed_45" type="radio" /><input id="__tabbed_45_2" name="__tabbed_45" type="radio" /><input id="__tabbed_45_3" name="__tabbed_45" type="radio" /><input id="__tabbed_45_4" name="__tabbed_45" type="radio" /><div class="tabbed-labels"><label for="__tabbed_45_1">EU</label><label for="__tabbed_45_2">US</label><label for="__tabbed_45_3">europe-west1</label><label for="__tabbed_45_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_extra_whitespaces</span><span class="p">(</span><span class="s1">&#39;Hi   Madison  and Mateusz!\n How are you doing?&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------------------------+
| cleaned_string                             |
+--------------------------------------------+
| Hi Madison and Mateusz! How are you doing? |
+--------------------------------------------+
</code>
</pre>

<hr />
<h3 id="remove_strings">remove_strings<a class="headerlink" href="#remove_strings" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/benjamin-tabet" title="Author: Benjamin Tabet" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQGWnyJdEmZeZw/profile-displayphoto-shrink_200_200/0/1667928305931?e=1686787200&v=beta&t=sW-albet4-jvB_cv7krxCz16BFHdi6-ohc0bXbi-EIY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_strings.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_strings(string, strings_to_remove)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove any string of <code>strings_to_remove</code> from <code>string</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="46:4"><input checked="checked" id="__tabbed_46_1" name="__tabbed_46" type="radio" /><input id="__tabbed_46_2" name="__tabbed_46" type="radio" /><input id="__tabbed_46_3" name="__tabbed_46" type="radio" /><input id="__tabbed_46_4" name="__tabbed_46" type="radio" /><div class="tabbed-labels"><label for="__tabbed_46_1">EU</label><label for="__tabbed_46_2">US</label><label for="__tabbed_46_3">europe-west1</label><label for="__tabbed_46_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_strings</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| I  dies        |
+----------------+
</code>
</pre>

<hr />
<h3 id="remove_words">remove_words<a class="headerlink" href="#remove_words" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/benjamin-tabet" title="Author: Benjamin Tabet" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQGWnyJdEmZeZw/profile-displayphoto-shrink_200_200/0/1667928305931?e=1686787200&v=beta&t=sW-albet4-jvB_cv7krxCz16BFHdi6-ohc0bXbi-EIY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_words.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_words(string, words_to_remove)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Remove any word of <code>words_to_remove</code> from <code>string</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="47:4"><input checked="checked" id="__tabbed_47_1" name="__tabbed_47" type="radio" /><input id="__tabbed_47_2" name="__tabbed_47" type="radio" /><input id="__tabbed_47_3" name="__tabbed_47" type="radio" /><input id="__tabbed_47_4" name="__tabbed_47" type="radio" /><div class="tabbed-labels"><label for="__tabbed_47_1">EU</label><label for="__tabbed_47_2">US</label><label for="__tabbed_47_3">europe-west1</label><label for="__tabbed_47_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_words</span><span class="p">(</span><span class="s1">&#39;I can eat candies&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;can&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;eat&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| I  candies     |
+----------------+
</code>
</pre>

<hr />
<h3 id="render_string">render_string<a class="headerlink" href="#render_string" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/render_string.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>render_string(template, context)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Render template with context using nunjucks.js templating library</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="48:4"><input checked="checked" id="__tabbed_48_1" name="__tabbed_48" type="radio" /><input id="__tabbed_48_2" name="__tabbed_48" type="radio" /><input id="__tabbed_48_3" name="__tabbed_48" type="radio" /><input id="__tabbed_48_4" name="__tabbed_48" type="radio" /><div class="tabbed-labels"><label for="__tabbed_48_1">EU</label><label for="__tabbed_48_2">US</label><label for="__tabbed_48_3">europe-west1</label><label for="__tabbed_48_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">render_string</span><span class="p">(</span><span class="s1">&#39;Hello {{ username }}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;username&quot;: &quot;James&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">rendered_content</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| rendered_content |
+------------------+
| Hello James      |
+------------------+
</code>
</pre>

<hr />
<h3 id="replace_special_characters">replace_special_characters<a class="headerlink" href="#replace_special_characters" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/68295200/" title="Author: Jason Tragakis" target="_blank">
    <img src="https://www.mayainsights.com/wp-content/uploads/2021/09/mayalogo.svg" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/replace_special_characters.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>replace_special_characters(string, replacement)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Replace most common special characters in a <code>string</code> with <code>replacement</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="49:4"><input checked="checked" id="__tabbed_49_1" name="__tabbed_49" type="radio" /><input id="__tabbed_49_2" name="__tabbed_49" type="radio" /><input id="__tabbed_49_3" name="__tabbed_49" type="radio" /><input id="__tabbed_49_4" name="__tabbed_49" type="radio" /><div class="tabbed-labels"><label for="__tabbed_49_1">EU</label><label for="__tabbed_49_2">US</label><label for="__tabbed_49_3">europe-west1</label><label for="__tabbed_49_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">replace_special_characters</span><span class="p">(</span><span class="s1">&#39;%♥!Hello!*♥#&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_string</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------+
| cleaned_string |
+----------------+
| Hello          |
+----------------+
</code>
</pre>

<hr />
<h3 id="translate">translate<a class="headerlink" href="#translate" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/floriancaringi/" title="Author: Florian Caringi" target="_blank">
    <img src="https://pbs.twimg.com/profile_images/1264658685755887621/Dlp36ch__400x400.jpg" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/translate.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>translate(text, target_language)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Translate <code>text</code> into <code>target_language</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="50:4"><input checked="checked" id="__tabbed_50_1" name="__tabbed_50" type="radio" /><input id="__tabbed_50_2" name="__tabbed_50" type="radio" /><input id="__tabbed_50_3" name="__tabbed_50" type="radio" /><input id="__tabbed_50_4" name="__tabbed_50" type="radio" /><div class="tabbed-labels"><label for="__tabbed_50_1">EU</label><label for="__tabbed_50_2">US</label><label for="__tabbed_50_3">europe-west1</label><label for="__tabbed_50_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="k">translate</span><span class="p">(</span><span class="ss">&quot;Salut 👋 Florian. Merci d&#39;avoir contribué !&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;en&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_text</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="k">translate</span><span class="p">(</span><span class="ss">&quot;Salut 👋 Florian. Merci d&#39;avoir contribué !&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;en&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_text</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="k">translate</span><span class="p">(</span><span class="ss">&quot;Salut 👋 Florian. Merci d&#39;avoir contribué !&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;en&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_text</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="k">translate</span><span class="p">(</span><span class="ss">&quot;Salut 👋 Florian. Merci d&#39;avoir contribué !&quot;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;en&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_text</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------------------------------+
| translated_text                           |
+-------------------------------------------+
| Hello 👋 Florian. Thanks for contributing! |
+-------------------------------------------+
</code>
</pre>

<hr />
<h3 id="xml_extract">xml_extract<a class="headerlink" href="#xml_extract" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/xml_extract.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>xml_extract(xml, x_path)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns content extracted from XML from given XPATH</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Only one element for the xpath</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="51:4"><input checked="checked" id="__tabbed_51_1" name="__tabbed_51" type="radio" /><input id="__tabbed_51_2" name="__tabbed_51" type="radio" /><input id="__tabbed_51_3" name="__tabbed_51" type="radio" /><input id="__tabbed_51_4" name="__tabbed_51" type="radio" /><div class="tabbed-labels"><label for="__tabbed_51_1">EU</label><label for="__tabbed_51_2">US</label><label for="__tabbed_51_3">europe-west1</label><label for="__tabbed_51_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| extracted_value |
+-----------------+
| [&#34;John Doe&#34;]    |
+-----------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Multiple elements for the xpath</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="52:4"><input checked="checked" id="__tabbed_52_1" name="__tabbed_52" type="radio" /><input id="__tabbed_52_2" name="__tabbed_52" type="radio" /><input id="__tabbed_52_3" name="__tabbed_52" type="radio" /><input id="__tabbed_52_4" name="__tabbed_52" type="radio" /><div class="tabbed-labels"><label for="__tabbed_52_1">EU</label><label for="__tabbed_52_2">US</label><label for="__tabbed_52_3">europe-west1</label><label for="__tabbed_52_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;name&gt;Jane Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;name&gt;Jane Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;name&gt;Jane Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;name&gt;Jane Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/name&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------+
| extracted_value          |
+--------------------------+
| [&#34;John Doe&#34;, &#34;Jane Doe&#34;] |
+--------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Incorrect xpath</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="53:4"><input checked="checked" id="__tabbed_53_1" name="__tabbed_53" type="radio" /><input id="__tabbed_53_2" name="__tabbed_53" type="radio" /><input id="__tabbed_53_3" name="__tabbed_53" type="radio" /><input id="__tabbed_53_4" name="__tabbed_53" type="radio" /><div class="tabbed-labels"><label for="__tabbed_53_1">EU</label><label for="__tabbed_53_2">US</label><label for="__tabbed_53_3">europe-west1</label><label for="__tabbed_53_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/na&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/na&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/na&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">xml_extract</span><span class="p">(</span><span class="ss">&quot;&lt;customer&gt;&lt;name&gt;John Doe&lt;/name&gt;&lt;/customer&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;/customer/na&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">extracted_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| extracted_value |
+-----------------+
| null            |
+-----------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-geo-data">🌐 Transform geo data<a class="headerlink" href="#transform-geo-data" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Geo Functions </strong></p>
</div>
<hr />
<h3 id="geocode">geocode<a class="headerlink" href="#geocode" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/geocode.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>geocode(address)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get <code>address</code> details from Google Maps</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="54:4"><input checked="checked" id="__tabbed_54_1" name="__tabbed_54" type="radio" /><input id="__tabbed_54_2" name="__tabbed_54" type="radio" /><input id="__tabbed_54_3" name="__tabbed_54" type="radio" /><input id="__tabbed_54_4" name="__tabbed_54" type="radio" /><div class="tabbed-labels"><label for="__tabbed_54_1">EU</label><label for="__tabbed_54_2">US</label><label for="__tabbed_54_3">europe-west1</label><label for="__tabbed_54_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">geocode</span><span class="p">(</span><span class="s1">&#39;1 rue des champs elysees, Paris&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">geocode</span><span class="p">(</span><span class="s1">&#39;1 rue des champs elysees, Paris&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">geocode</span><span class="p">(</span><span class="s1">&#39;1 rue des champs elysees, Paris&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">geocode</span><span class="p">(</span><span class="s1">&#39;1 rue des champs elysees, Paris&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| address_details                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {
    &#34;address_components&#34;: [...],
    &#34;formatted_address&#34;: &#34;1 Av. des Champs-Élysées, 75008 Paris, France&#34;,
    &#34;geometry&#34;: {
        &#34;location&#34;: {
            &#34;lat&#34;: 48.86988770000001,
            &#34;lng&#34;: 2.3079341
        },
        ...
    },
    &#34;place_id&#34;: &#34;ChIJ6499V8Rv5kcR5f9dbz3OeBI&#34;,
    &#34;plus_code&#34;: {...},
    &#34;types&#34;: [&#34;street_address&#34;]
}
 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="h3">h3<a class="headerlink" href="#h3" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/h3.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>h3(function_name, arguments)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Wrapper around <a href="https://github.com/uber/h3-js">Uber H3</a>
(A Hexagonal Hierarchical Geospatial Indexing System).</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="55:4"><input checked="checked" id="__tabbed_55_1" name="__tabbed_55" type="radio" /><input id="__tabbed_55_2" name="__tabbed_55" type="radio" /><input id="__tabbed_55_3" name="__tabbed_55" type="radio" /><input id="__tabbed_55_4" name="__tabbed_55" type="radio" /><div class="tabbed-labels"><label for="__tabbed_55_1">EU</label><label for="__tabbed_55_2">US</label><label for="__tabbed_55_3">europe-west1</label><label for="__tabbed_55_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">h3</span><span class="p">(</span><span class="s1">&#39;latLngToCell&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[37.3615593, -122.0553238, 7]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">h3</span><span class="p">(</span><span class="s1">&#39;latLngToCell&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[37.3615593, -122.0553238, 7]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">h3</span><span class="p">(</span><span class="s1">&#39;latLngToCell&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[37.3615593, -122.0553238, 7]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">h3</span><span class="p">(</span><span class="s1">&#39;latLngToCell&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[37.3615593, -122.0553238, 7]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------+
| result            |
+-------------------+
| &#34;87283472bffffff&#34; |
+-------------------+
</code>
</pre>

<hr />
<h3 id="reverse_geocode">reverse_geocode<a class="headerlink" href="#reverse_geocode" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/guillaume-pivette" title="Author: Guillaume Pivette" target="_blank">
    <img src="https://cdn-images-1.medium.com/v2/resize:fit:92/1*jHdQzX82eU5lyjBYp63NqQ@2x.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/reverse_geocode.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>reverse_geocode(latitude, longitude)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get address details at <code>latitude</code>, <code>longitude</code>
using Google Maps</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="56:4"><input checked="checked" id="__tabbed_56_1" name="__tabbed_56" type="radio" /><input id="__tabbed_56_2" name="__tabbed_56" type="radio" /><input id="__tabbed_56_3" name="__tabbed_56" type="radio" /><input id="__tabbed_56_4" name="__tabbed_56" type="radio" /><div class="tabbed-labels"><label for="__tabbed_56_1">EU</label><label for="__tabbed_56_2">US</label><label for="__tabbed_56_3">europe-west1</label><label for="__tabbed_56_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">reverse_geocode</span><span class="p">(</span><span class="mi">48</span><span class="p">.</span><span class="mi">86988770000001</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">3079341</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">reverse_geocode</span><span class="p">(</span><span class="mi">48</span><span class="p">.</span><span class="mi">86988770000001</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">3079341</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">reverse_geocode</span><span class="p">(</span><span class="mi">48</span><span class="p">.</span><span class="mi">86988770000001</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">3079341</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">reverse_geocode</span><span class="p">(</span><span class="mi">48</span><span class="p">.</span><span class="mi">86988770000001</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">.</span><span class="mi">3079341</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">address_details</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| address_details                                                                                                                                                                                                                                                                                                                                                 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {
    &#34;address_components&#34;: [...],
    &#34;formatted_address&#34;: &#34;1 Av. des Champs-Élysées, 75008 Paris, France&#34;,
    &#34;geometry&#34;: {
        &#34;location&#34;: {
            &#34;lat&#34;: 48.86988770000001,
            &#34;lng&#34;: 2.3079341
        },
        ...
    },
    &#34;place_id&#34;: &#34;ChIJ6499V8Rv5kcR5f9dbz3OeBI&#34;,
    &#34;plus_code&#34;: {...},
    &#34;types&#34;: [&#34;street_address&#34;]
}
 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="validate_address">validate_address<a class="headerlink" href="#validate_address" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/guillaume-pivette" title="Author: Guillaume Pivette" target="_blank">
    <img src="" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/validate_address.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>validate_address(address)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Validate <code>address</code> using Google Maps</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Correct address</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="57:4"><input checked="checked" id="__tabbed_57_1" name="__tabbed_57" type="radio" /><input id="__tabbed_57_2" name="__tabbed_57" type="radio" /><input id="__tabbed_57_3" name="__tabbed_57" type="radio" /><input id="__tabbed_57_4" name="__tabbed_57" type="radio" /><div class="tabbed-labels"><label for="__tabbed_57_1">EU</label><label for="__tabbed_57_2">US</label><label for="__tabbed_57_3">europe-west1</label><label for="__tabbed_57_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validation_result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {&#39;result&#39;: {&#39;verdict&#39;: {&#39;inputGranularity&#39;: &#39;PREMISE&#39;,
  &#39;validationGranularity&#39;: &#39;PREMISE&#39;,
  &#39;geocodeGranularity&#39;: &#39;PREMISE&#39;,
  &#39;addressComplete&#39;: True},
  &#39;address&#39;: {&#39;formattedAddress&#39;: &#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;,
  ...},
  &#39;geocode&#39;: {&#39;location&#39;: {&#39;latitude&#39;: 48.8698877, &#39;longitude&#39;: 2.3079341},
  ...,
  &#39;bounds&#39;: {&#39;low&#39;: {&#39;latitude&#39;: 48.8698877, &#39;longitude&#39;: 2.3079341},
    &#39;high&#39;: {&#39;latitude&#39;: 48.8698877, &#39;longitude&#39;: 2.3079341}},
  ...}},
&#39;responseId&#39;: ...}
 |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Address with inference</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="58:4"><input checked="checked" id="__tabbed_58_1" name="__tabbed_58" type="radio" /><input id="__tabbed_58_2" name="__tabbed_58" type="radio" /><input id="__tabbed_58_3" name="__tabbed_58" type="radio" /><input id="__tabbed_58_4" name="__tabbed_58" type="radio" /><div class="tabbed-labels"><label for="__tabbed_58_1">EU</label><label for="__tabbed_58_2">US</label><label for="__tabbed_58_3">europe-west1</label><label for="__tabbed_58_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validation_result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {&#39;result&#39;: {&#39;verdict&#39;: {&#39;inputGranularity&#39;: &#39;PREMISE&#39;,
  &#39;validationGranularity&#39;: &#39;PREMISE&#39;,
  &#39;geocodeGranularity&#39;: &#39;PREMISE&#39;,
  &#39;addressComplete&#39;: True,
  &#39;hasUnconfirmedComponents&#39;: True,
  &#39;hasInferredComponents&#39;: True},
  &#39;address&#39;: {
    &#39;formattedAddress&#39;: &#39;1 Avenue des Champs-Élysées, 75008 Paris, France&#39;,
    &#39;addressComponents&#39;: [
      {&#39;componentName&#39;: {&#39;text&#39;: &#39;1&#39;, &#39;languageCode&#39;: &#39;fr&#39;},
        &#39;componentType&#39;: &#39;street_number&#39;,
        &#39;confirmationLevel&#39;: &#39;CONFIRMED&#39;},
      {&#39;componentName&#39;: {&#39;text&#39;: &#39;rue des champs elysees&#39;, &#39;languageCode&#39;: &#39;fr&#39;},
        &#39;componentType&#39;: &#39;route&#39;,
        &#39;confirmationLevel&#39;: &#39;UNCONFIRMED_BUT_PLAUSIBLE&#39;},
      ...,]
    &#39;unconfirmedComponentTypes&#39;: [&#39;route&#39;]}
  &#39;geocode&#39;: {&#39;location&#39;: {&#39;latitude&#39;: 48.8698877, &#39;longitude&#39;: 2.3079341},
  ...,
  &#39;bounds&#39;: {&#39;low&#39;: {&#39;latitude&#39;: 48.8698877, &#39;longitude&#39;: 2.3079341},
    &#39;high&#39;: {&#39;latitude&#39;: 48.8698877, &#39;longitude&#39;: 2.3079341}},
  ...}},
&#39;responseId&#39;: ...}
 |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Route granularity</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="59:4"><input checked="checked" id="__tabbed_59_1" name="__tabbed_59" type="radio" /><input id="__tabbed_59_2" name="__tabbed_59" type="radio" /><input id="__tabbed_59_3" name="__tabbed_59" type="radio" /><input id="__tabbed_59_4" name="__tabbed_59" type="radio" /><div class="tabbed-labels"><label for="__tabbed_59_1">EU</label><label for="__tabbed_59_2">US</label><label for="__tabbed_59_3">europe-west1</label><label for="__tabbed_59_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">validate_address</span><span class="p">(</span><span class="s1">&#39;Avenue des Champs-Élysées, 75008 Paris, France&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">validation_result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| validation_result                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| {&#39;result&#39;: {&#39;verdict&#39;: {inputGranularity&#39;: &#39;ROUTE&#39;,
  &#39;validationGranularity&#39;: &#39;ROUTE&#39;,
  &#39;geocodeGranularity&#39;: &#39;ROUTE&#39;},
  &#39;address&#39;: {
    &#39;formattedAddress&#39;: &#39;Avenue des Champs-Élysées, 75008 Paris, France&#39;,
    &#39;addressComponents&#39;: [
      {&#39;componentName&#39;: {&#39;text&#39;: &#39;Avenue des Champs-Élysées&#39;,
        &#39;languageCode&#39;: &#39;fr&#39;},
        &#39;componentType&#39;: &#39;route&#39;,
        &#39;confirmationLevel&#39;: &#39;CONFIRMED&#39;},
      ...,]
    &#39;missingComponentTypes&#39;: [&#39;street_number&#39;]}
  &#39;geocode&#39;: {&#39;location&#39;: {&#39;latitude&#39;: 48.8729602, &#39;longitude&#39;: 2.2978526},
  ...,
  &#39;bounds&#39;: {&#39;low&#39;: {&#39;latitude&#39;: 48.8655318, &#39;longitude&#39;: 2.2952047},
    &#39;high&#39;: {&#39;latitude&#39;: 48.8748338, &#39;longitude&#39;: 2.3200376}},
  ...}},
&#39;responseId&#39;: ...}
 |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-date">📆 Transform date<a class="headerlink" href="#transform-date" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Transform data creatively </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="date_sub_isoyear">date_sub_isoyear<a class="headerlink" href="#date_sub_isoyear" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/knockaertstephane/" title="Author: Stephane KNOCKAERT" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4E03AQGAa5CX20cU5g/profile-displayphoto-shrink_200_200/0/1651827360843?e=1691020800&v=beta&t=0M3BkmD7Nc6EiGv7ZHtRQb6HFn-USSvkK_WSnSIAB6k" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/date_sub_isoyear.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>date_sub_isoyear(date, years)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns same day <code>years</code> before
(same week number and same day of week)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="60:4"><input checked="checked" id="__tabbed_60_1" name="__tabbed_60" type="radio" /><input id="__tabbed_60_2" name="__tabbed_60" type="radio" /><input id="__tabbed_60_3" name="__tabbed_60" type="radio" /><input id="__tabbed_60_4" name="__tabbed_60" type="radio" /><div class="tabbed-labels"><label for="__tabbed_60_1">EU</label><label for="__tabbed_60_2">US</label><label for="__tabbed_60_3">europe-west1</label><label for="__tabbed_60_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">date_sub_isoyear</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">substracted_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">date_sub_isoyear</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">substracted_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">date_sub_isoyear</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">substracted_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">date_sub_isoyear</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">substracted_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| substracted_date |
+------------------+
| 2020-05-29       |
+------------------+
</code>
</pre>

<hr />
<h3 id="generate_dates">generate_dates<a class="headerlink" href="#generate_dates" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/thomas-ellyatt-84a51b218/" title="Author: Thomas Ellyatt" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/110492001?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/generate_dates.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>generate_dates(start_date, end_date)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Generate a table of dates</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="61:4"><input checked="checked" id="__tabbed_61_1" name="__tabbed_61" type="radio" /><input id="__tabbed_61_2" name="__tabbed_61" type="radio" /><input id="__tabbed_61_3" name="__tabbed_61" type="radio" /><input id="__tabbed_61_4" name="__tabbed_61" type="radio" /><div class="tabbed-labels"><label for="__tabbed_61_1">EU</label><label for="__tabbed_61_2">US</label><label for="__tabbed_61_3">europe-west1</label><label for="__tabbed_61_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">generate_dates</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-01&#39;</span><span class="p">),</span><span class="w"> </span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2023-01-05&#39;</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+------------+-------------+-------------------+-----------------+-------------------+-----------------+-------------+------------+---------------+-------------+
|    date    | day_of_week | week_start_monday | week_end_monday | week_start_sunday | week_end_sunday | month_start | month_end  | quarter_start | quarter_end |
+------------+-------------+-------------------+-----------------+-------------------+-----------------+-------------+------------+---------------+-------------+
| 2023-01-01 |     Sun     |    2022-12-26     |    2023-01-01   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-02 |     Mon     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-03 |     Tue     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-04 |     Wed     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
| 2023-01-05 |     Thu     |    2023-01-02     |    2023-01-08   |     2023-01-01    |    2023-01-07   |  2023-01-01 | 2023-01-31 |   2023-01-01  | 2023-03-31  |
+------------+-------------+-------------------+-----------------+-------------------+-----------------+-------------+------------+---------------+-------------+

</code>
</pre>

<hr />
<h3 id="is_public_holiday">is_public_holiday<a class="headerlink" href="#is_public_holiday" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/is_public_holiday.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>is_public_holiday(date, country_code)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return true if <code>date</code> corresponds to a public holiday in <code>country_code</code></p>
<ul>
<li>Always return <code>false</code> if date is not between year 1974 and year 2076.</li>
<li><code>country_code</code> must be among <code>[AO, AR, AW, AU, AT, AZ, BD, BY, BE, BO, BW, BR, BG, BI, CA, CL, CN, CO, HR, CU, CW, CY, CZ, DK, DJ, DO, EG, EE, ET, FI, FR, GE, DE, GR, HN, HK, HU, IS, IN, IE, IL, IT, JM, JP, KZ, KE, KR, LV, LS, LT, LU, MG, MW, MY, MT, MX, MD, MA, MZ, NA, NL, NZ, NI, NG, MK, NO, PY, PE, PL, PT, RO, RU, SA, RS, SG, SK, SI, ZA, ES, SZ, SE, CH, TW, TN, TR, UA, AE, GB, US, UY, UZ, VE, VN, ZM, ZW]</code></li>
<li>Holiday dates come from <a href="https://python-holidays.readthedocs.io/" target="_blank"><code>python-holidays</code></a>.</li>
</ul>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="62:4"><input checked="checked" id="__tabbed_62_1" name="__tabbed_62" type="radio" /><input id="__tabbed_62_2" name="__tabbed_62" type="radio" /><input id="__tabbed_62_3" name="__tabbed_62" type="radio" /><input id="__tabbed_62_4" name="__tabbed_62" type="radio" /><div class="tabbed-labels"><label for="__tabbed_62_1">EU</label><label for="__tabbed_62_2">US</label><label for="__tabbed_62_3">europe-west1</label><label for="__tabbed_62_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">is_public_holiday</span><span class="p">(</span><span class="nb">date</span><span class="p">(</span><span class="s1">&#39;2022-07-14&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;FR&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">is_public_holiday</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------+
| is_public_holiday |
+-------------------+
| true              |
+-------------------+
</code>
</pre>

<hr />
<h3 id="parse_date">parse_date<a class="headerlink" href="#parse_date" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/sebo-banerjee/" title="Credits: Sebabrata Banerjee" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4D03AQHFfCabt6UuLw/profile-displayphoto-shrink_200_200/0/1662473522711?e=1672272000&v=beta&t=hlhzWEk4UwQyaZmwNN1u9_F3DeRCLNwYgQrym-OiMC8" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/parse_date.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>parse_date(date_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Parse date with automatic format detection
<em>(inspired from <a href="https://www.linkedin.com/feed/update/urn:li:activity:6989555205612670976/">Sebabrata BigQuery tutorial</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="63:4"><input checked="checked" id="__tabbed_63_1" name="__tabbed_63" type="radio" /><input id="__tabbed_63_2" name="__tabbed_63" type="radio" /><input id="__tabbed_63_3" name="__tabbed_63" type="radio" /><input id="__tabbed_63_4" name="__tabbed_63" type="radio" /><div class="tabbed-labels"><label for="__tabbed_63_1">EU</label><label for="__tabbed_63_2">US</label><label for="__tabbed_63_3">europe-west1</label><label for="__tabbed_63_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-01-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="64:4"><input checked="checked" id="__tabbed_64_1" name="__tabbed_64" type="radio" /><input id="__tabbed_64_2" name="__tabbed_64" type="radio" /><input id="__tabbed_64_3" name="__tabbed_64" type="radio" /><input id="__tabbed_64_4" name="__tabbed_64" type="radio" /><div class="tabbed-labels"><label for="__tabbed_64_1">EU</label><label for="__tabbed_64_2">US</label><label for="__tabbed_64_3">europe-west1</label><label for="__tabbed_64_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021-1-20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="65:4"><input checked="checked" id="__tabbed_65_1" name="__tabbed_65" type="radio" /><input id="__tabbed_65_2" name="__tabbed_65" type="radio" /><input id="__tabbed_65_3" name="__tabbed_65" type="radio" /><input id="__tabbed_65_4" name="__tabbed_65" type="radio" /><div class="tabbed-labels"><label for="__tabbed_65_1">EU</label><label for="__tabbed_65_2">US</label><label for="__tabbed_65_3">europe-west1</label><label for="__tabbed_65_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/01/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="66:4"><input checked="checked" id="__tabbed_66_1" name="__tabbed_66" type="radio" /><input id="__tabbed_66_2" name="__tabbed_66" type="radio" /><input id="__tabbed_66_3" name="__tabbed_66" type="radio" /><input id="__tabbed_66_4" name="__tabbed_66" type="radio" /><div class="tabbed-labels"><label for="__tabbed_66_1">EU</label><label for="__tabbed_66_2">US</label><label for="__tabbed_66_3">europe-west1</label><label for="__tabbed_66_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;2021/1/20 &#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="67:4"><input checked="checked" id="__tabbed_67_1" name="__tabbed_67" type="radio" /><input id="__tabbed_67_2" name="__tabbed_67" type="radio" /><input id="__tabbed_67_3" name="__tabbed_67" type="radio" /><input id="__tabbed_67_4" name="__tabbed_67" type="radio" /><div class="tabbed-labels"><label for="__tabbed_67_1">EU</label><label for="__tabbed_67_2">US</label><label for="__tabbed_67_3">europe-west1</label><label for="__tabbed_67_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="68:4"><input checked="checked" id="__tabbed_68_1" name="__tabbed_68" type="radio" /><input id="__tabbed_68_2" name="__tabbed_68" type="radio" /><input id="__tabbed_68_3" name="__tabbed_68" type="radio" /><input id="__tabbed_68_4" name="__tabbed_68" type="radio" /><div class="tabbed-labels"><label for="__tabbed_68_1">EU</label><label for="__tabbed_68_2">US</label><label for="__tabbed_68_3">europe-west1</label><label for="__tabbed_68_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;1/20/21&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="69:4"><input checked="checked" id="__tabbed_69_1" name="__tabbed_69" type="radio" /><input id="__tabbed_69_2" name="__tabbed_69" type="radio" /><input id="__tabbed_69_3" name="__tabbed_69" type="radio" /><input id="__tabbed_69_4" name="__tabbed_69" type="radio" /><div class="tabbed-labels"><label for="__tabbed_69_1">EU</label><label for="__tabbed_69_2">US</label><label for="__tabbed_69_3">europe-west1</label><label for="__tabbed_69_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;Wed Jan 20 21:47:00 2021&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">cleaned_date</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------+
| cleaned_date       |
+--------------------+
| date(&#39;2021-01-20&#39;) |
+--------------------+
</code>
</pre>

<hr />
<h3 id="translated_month_name">translated_month_name<a class="headerlink" href="#translated_month_name" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/farida-sadoun/" title="Author: Farida SADOUN" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQHJJCxdo82rrg/profile-displayphoto-shrink_200_200/0/1642020323982?e=1691020800&v=beta&t=B5FC6bqSd0128-WkwoTUGcldD6yKb_Zz0tMZ5M5sDHw" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/translated_month_name.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>translated_month_name(date, language)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get <code>translated_month_name</code>
in targeted <code>language</code></p>
<p><code>language</code> has locale format such as <code>fr</code>, <code>fr_FR</code>, <code>fr_BE</code>, etc.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="70:4"><input checked="checked" id="__tabbed_70_1" name="__tabbed_70" type="radio" /><input id="__tabbed_70_2" name="__tabbed_70" type="radio" /><input id="__tabbed_70_3" name="__tabbed_70" type="radio" /><input id="__tabbed_70_4" name="__tabbed_70" type="radio" /><div class="tabbed-labels"><label for="__tabbed_70_1">EU</label><label for="__tabbed_70_2">US</label><label for="__tabbed_70_3">europe-west1</label><label for="__tabbed_70_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">translated_month_name</span><span class="p">(</span><span class="s1">&#39;2022-05-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_month_name</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">translated_month_name</span><span class="p">(</span><span class="s1">&#39;2022-05-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_month_name</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">translated_month_name</span><span class="p">(</span><span class="s1">&#39;2022-05-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_month_name</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">translated_month_name</span><span class="p">(</span><span class="s1">&#39;2022-05-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_month_name</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------+
| translated_month_name |
+-----------------------+
| mayo                  |
+-----------------------+
</code>
</pre>

<hr />
<h3 id="translated_weekday_name">translated_weekday_name<a class="headerlink" href="#translated_weekday_name" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/farida-sadoun/" title="Author: Farida SADOUN" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQHJJCxdo82rrg/profile-displayphoto-shrink_200_200/0/1642020323982?e=1691020800&v=beta&t=B5FC6bqSd0128-WkwoTUGcldD6yKb_Zz0tMZ5M5sDHw" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/translated_weekday_name.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>translated_weekday_name(date, language)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get <code>translated_weekday_name</code>
in targeted <code>language</code></p>
<p><code>language</code> has locale format such as <code>fr</code>, <code>fr_FR</code>, <code>fr_BE</code>, etc.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="71:4"><input checked="checked" id="__tabbed_71_1" name="__tabbed_71" type="radio" /><input id="__tabbed_71_2" name="__tabbed_71" type="radio" /><input id="__tabbed_71_3" name="__tabbed_71" type="radio" /><input id="__tabbed_71_4" name="__tabbed_71" type="radio" /><div class="tabbed-labels"><label for="__tabbed_71_1">EU</label><label for="__tabbed_71_2">US</label><label for="__tabbed_71_3">europe-west1</label><label for="__tabbed_71_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">translated_weekday_name</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fr&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_weekday_name</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">translated_weekday_name</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fr&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_weekday_name</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">translated_weekday_name</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fr&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_weekday_name</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">translated_weekday_name</span><span class="p">(</span><span class="s1">&#39;2023-06-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;fr&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">translated_weekday_name</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------------+
| translated_weekday_name |
+-------------------------+
| vendredi                |
+-------------------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-json"><span style="color: var(--md-primary-fg-color);">{...}</span> Transform json<a class="headerlink" href="#transform-json" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>BigQuery json made easy </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="json_items">json_items<a class="headerlink" href="#json_items" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_items.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_items(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract <code>key_value_items</code> from <code>json_string</code>
which has only flat (no nested) key-values.
Return <code>key_value_items</code> as <code>array&lt; struct&lt;key string, value string&gt; &gt;</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="72:4"><input checked="checked" id="__tabbed_72_1" name="__tabbed_72" type="radio" /><input id="__tabbed_72_2" name="__tabbed_72" type="radio" /><input id="__tabbed_72_3" name="__tabbed_72" type="radio" /><input id="__tabbed_72_4" name="__tabbed_72" type="radio" /><div class="tabbed-labels"><label for="__tabbed_72_1">EU</label><label for="__tabbed_72_2">US</label><label for="__tabbed_72_3">europe-west1</label><label for="__tabbed_72_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_items</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">key_value_items</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------------------------------------------------+
| key_value_items                                                                                     |
+-----------------------------------------------------------------------------------------------------+
| [
|   struct(&#34;created_at&#34; as key, &#34;date&#34; as value),
|   struct(&#34;user&#34; as key, &#34;name&#34; as value)
| ]
 |
+-----------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="json_keys">json_keys<a class="headerlink" href="#json_keys" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_keys.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_keys(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract <code>keys</code> from <code>json_string</code>
which has only flat (no nested) key-values.
Return <code>keys</code> as an <code>array&lt;string&gt;</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="73:4"><input checked="checked" id="__tabbed_73_1" name="__tabbed_73" type="radio" /><input id="__tabbed_73_2" name="__tabbed_73" type="radio" /><input id="__tabbed_73_3" name="__tabbed_73" type="radio" /><input id="__tabbed_73_4" name="__tabbed_73" type="radio" /><div class="tabbed-labels"><label for="__tabbed_73_1">EU</label><label for="__tabbed_73_2">US</label><label for="__tabbed_73_3">europe-west1</label><label for="__tabbed_73_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_keys</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">keys</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------------+
| keys                   |
+------------------------+
| [&#39;created_at&#39;, &#39;user&#39;] |
+------------------------+
</code>
</pre>

<hr />
<h3 id="json_merge">json_merge<a class="headerlink" href="#json_merge" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Thomas Lépine" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_merge.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_merge(json_string1, json_string2)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Merge <code>json_string1</code> and <code>json_string2</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="74:4"><input checked="checked" id="__tabbed_74_1" name="__tabbed_74" type="radio" /><input id="__tabbed_74_2" name="__tabbed_74" type="radio" /><input id="__tabbed_74_3" name="__tabbed_74" type="radio" /><input id="__tabbed_74_4" name="__tabbed_74" type="radio" /><div class="tabbed-labels"><label for="__tabbed_74_1">EU</label><label for="__tabbed_74_2">US</label><label for="__tabbed_74_3">europe-west1</label><label for="__tabbed_74_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_merge</span><span class="p">(</span><span class="s1">&#39;{&quot;k1&quot;: &quot;v1&quot;}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;{&quot;k2&quot;: &quot;v2&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">merged_json</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------------+
| merged_json                |
+----------------------------+
| &#39;{&#34;k1&#34;: &#34;v1&#34;, &#34;k2&#34;: &#34;v2&#34;}&#39; |
+----------------------------+
</code>
</pre>

<hr />
<h3 id="json_query">json_query<a class="headerlink" href="#json_query" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_query.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_query(json_string, query)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract data from <code>json_string</code> using advanced json querying
offered by <a href="https://jmespath.org/">JMESPath</a>.</p>
<blockquote>
<p><em>JMESPath Links:</em></p>
<ul>
<li>See <a href="https://jmespath.org/tutorial.html">JMESPath Tutorial</a> for exhaustive <code>query</code> possibilities</li>
<li><a href="https://github.com/jmespath/jmespath.js">GitHub of jmespath.js</a></li>
</ul>
</blockquote>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Basic Query</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="75:4"><input checked="checked" id="__tabbed_75_1" name="__tabbed_75" type="radio" /><input id="__tabbed_75_2" name="__tabbed_75" type="radio" /><input id="__tabbed_75_3" name="__tabbed_75" type="radio" /><input id="__tabbed_75_4" name="__tabbed_75" type="radio" /><div class="tabbed-labels"><label for="__tabbed_75_1">EU</label><label for="__tabbed_75_2">US</label><label for="__tabbed_75_3">europe-west1</label><label for="__tabbed_75_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------------------------------+
| result                           |
+----------------------------------+
| [{&#34;first&#34;: &#34;a&#34;}, {&#34;first&#34;: &#34;c&#34;}] |
+----------------------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Getting array sub-items</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="76:4"><input checked="checked" id="__tabbed_76_1" name="__tabbed_76" type="radio" /><input id="__tabbed_76_2" name="__tabbed_76" type="radio" /><input id="__tabbed_76_3" name="__tabbed_76" type="radio" /><input id="__tabbed_76_4" name="__tabbed_76" type="radio" /><div class="tabbed-labels"><label for="__tabbed_76_1">EU</label><label for="__tabbed_76_2">US</label><label for="__tabbed_76_3">europe-west1</label><label for="__tabbed_76_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------+
| result     |
+------------+
| [&#39;a&#39;, &#39;c&#39;] |
+------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Slicing</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="77:4"><input checked="checked" id="__tabbed_77_1" name="__tabbed_77" type="radio" /><input id="__tabbed_77_2" name="__tabbed_77" type="radio" /><input id="__tabbed_77_3" name="__tabbed_77" type="radio" /><input id="__tabbed_77_4" name="__tabbed_77" type="radio" /><div class="tabbed-labels"><label for="__tabbed_77_1">EU</label><label for="__tabbed_77_2">US</label><label for="__tabbed_77_3">europe-west1</label><label for="__tabbed_77_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[:1].first&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| result |
+--------+
| [&#39;a&#39;]  |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">4. Projecting</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="78:4"><input checked="checked" id="__tabbed_78_1" name="__tabbed_78" type="radio" /><input id="__tabbed_78_2" name="__tabbed_78" type="radio" /><input id="__tabbed_78_3" name="__tabbed_78" type="radio" /><input id="__tabbed_78_4" name="__tabbed_78" type="radio" /><div class="tabbed-labels"><label for="__tabbed_78_1">EU</label><label for="__tabbed_78_2">US</label><label for="__tabbed_78_3">europe-west1</label><label for="__tabbed_78_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_query</span><span class="p">(</span><span class="s1">&#39;{&quot;foo&quot;: [{&quot;first&quot;: &quot;a&quot;}, {&quot;first&quot;: &quot;c&quot;}]}&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;foo[*].{name: first}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------------+
| result                         |
+--------------------------------+
| [{&#34;name&#34;: &#34;a&#34;}, {&#34;name&#34;: &#34;c&#34;}] |
+--------------------------------+
</code>
</pre>

<hr />
<h3 id="json_schema">json_schema<a class="headerlink" href="#json_schema" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_schema.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_schema(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the schema of a json string as <code>[{path, type}]</code>
with <code>path</code> the path of the nested field
and <code>type</code> among (<code>string</code>, <code>numeric</code>, <code>bool</code>, <code>date</code>, <code>timestamp</code>)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="79:4"><input checked="checked" id="__tabbed_79_1" name="__tabbed_79" type="radio" /><input id="__tabbed_79_2" name="__tabbed_79" type="radio" /><input id="__tabbed_79_3" name="__tabbed_79" type="radio" /><input id="__tabbed_79_4" name="__tabbed_79" type="radio" /><div class="tabbed-labels"><label for="__tabbed_79_1">EU</label><label for="__tabbed_79_2">US</label><label for="__tabbed_79_3">europe-west1</label><label for="__tabbed_79_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_schema</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: {&quot;name&quot;: &quot;James&quot;, &quot;friends&quot;: [&quot;Jack&quot;, &quot;Peter&quot;]}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">schema</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| schema                                                                                                                                                          |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
| [
|   struct(&#34;created_at&#34; as path, &#34;date&#34; as type),
|   struct(&#34;user.name&#34; as path, &#34;string&#34; as type),
|   struct(&#34;user.friends&#34; as path, &#34;array&#34; as type)
| ]
 |
+-----------------------------------------------------------------------------------------------------------------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="json_values">json_values<a class="headerlink" href="#json_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json_values(json_string)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Extract <code>values</code> from <code>json_string</code>
which has only flat (no nested) key-values.
Return <code>values</code> as an <code>array&lt;string&gt;</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="80:4"><input checked="checked" id="__tabbed_80_1" name="__tabbed_80" type="radio" /><input id="__tabbed_80_2" name="__tabbed_80" type="radio" /><input id="__tabbed_80_3" name="__tabbed_80" type="radio" /><input id="__tabbed_80_4" name="__tabbed_80" type="radio" /><div class="tabbed-labels"><label for="__tabbed_80_1">EU</label><label for="__tabbed_80_2">US</label><label for="__tabbed_80_3">europe-west1</label><label for="__tabbed_80_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json_values</span><span class="p">(</span><span class="s1">&#39;{&quot;created_at&quot;: &quot;2022-01-01&quot;, &quot;user&quot;: &quot;sidali&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">values</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------------------+
| values                   |
+--------------------------+
| [&#39;2022-01-01&#39;, &#39;sidali&#39;] |
+--------------------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="transform-array"><span style="color: var(--md-primary-fg-color);">[...]</span> Transform array<a class="headerlink" href="#transform-array" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>BigQuery arrays made easy </strong></p>
<p>Be amazed with your new SQL powers.</p>
</div>
<hr />
<h3 id="are_arrays_equal">are_arrays_equal<a class="headerlink" href="#are_arrays_equal" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/are_arrays_equal.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>are_arrays_equal(array1, array2)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return true if <code>array1</code> = <code>array2</code>
and false otherwise</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="81:4"><input checked="checked" id="__tabbed_81_1" name="__tabbed_81" type="radio" /><input id="__tabbed_81_2" name="__tabbed_81" type="radio" /><input id="__tabbed_81_3" name="__tabbed_81" type="radio" /><input id="__tabbed_81_4" name="__tabbed_81" type="radio" /><div class="tabbed-labels"><label for="__tabbed_81_1">EU</label><label for="__tabbed_81_2">US</label><label for="__tabbed_81_3">europe-west1</label><label for="__tabbed_81_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| are_arrays_equal |
+------------------+
| true             |
+------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="82:4"><input checked="checked" id="__tabbed_82_1" name="__tabbed_82" type="radio" /><input id="__tabbed_82_2" name="__tabbed_82" type="radio" /><input id="__tabbed_82_3" name="__tabbed_82" type="radio" /><input id="__tabbed_82_4" name="__tabbed_82" type="radio" /><div class="tabbed-labels"><label for="__tabbed_82_1">EU</label><label for="__tabbed_82_2">US</label><label for="__tabbed_82_3">europe-west1</label><label for="__tabbed_82_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">are_arrays_equal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">are_arrays_equal</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| are_arrays_equal |
+------------------+
| false            |
+------------------+
</code>
</pre>

<hr />
<h3 id="distinct_values">distinct_values<a class="headerlink" href="#distinct_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/distinct_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>distinct_values(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return distinct values</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="83:4"><input checked="checked" id="__tabbed_83_1" name="__tabbed_83" type="radio" /><input id="__tabbed_83_2" name="__tabbed_83" type="radio" /><input id="__tabbed_83_3" name="__tabbed_83" type="radio" /><input id="__tabbed_83_4" name="__tabbed_83" type="radio" /><div class="tabbed-labels"><label for="__tabbed_83_1">EU</label><label for="__tabbed_83_2">US</label><label for="__tabbed_83_3">europe-west1</label><label for="__tabbed_83_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">distinct_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">distinct_values</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| distinct_values |
+-----------------+
| [1, 4, 3]       |
+-----------------+
</code>
</pre>

<hr />
<h3 id="find_value">find_value<a class="headerlink" href="#find_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Thomas Lépine" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/find_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>find_value(arr, value)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the first <code>offset</code> (zero-based index) of <code>value</code> in array <code>arr</code>
(or <code>null</code> if <code>value</code> is not in <code>arr</code>).</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. When <code>value</code> is in array</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="84:4"><input checked="checked" id="__tabbed_84_1" name="__tabbed_84" type="radio" /><input id="__tabbed_84_2" name="__tabbed_84" type="radio" /><input id="__tabbed_84_3" name="__tabbed_84" type="radio" /><input id="__tabbed_84_4" name="__tabbed_84" type="radio" /><div class="tabbed-labels"><label for="__tabbed_84_1">EU</label><label for="__tabbed_84_2">US</label><label for="__tabbed_84_3">europe-west1</label><label for="__tabbed_84_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| offset |
+--------+
| 1      |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. When <code>value</code> is not in array</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="85:4"><input checked="checked" id="__tabbed_85_1" name="__tabbed_85" type="radio" /><input id="__tabbed_85_2" name="__tabbed_85" type="radio" /><input id="__tabbed_85_3" name="__tabbed_85" type="radio" /><input id="__tabbed_85_4" name="__tabbed_85" type="radio" /><div class="tabbed-labels"><label for="__tabbed_85_1">EU</label><label for="__tabbed_85_2">US</label><label for="__tabbed_85_3">europe-west1</label><label for="__tabbed_85_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">find_value</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">offset</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| offset |
+--------+
| null   |
+--------+
</code>
</pre>

<hr />
<h3 id="get_value">get_value<a class="headerlink" href="#get_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Thomas Lépine" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_value(key_value_items, search_key)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the first <code>value</code> with a key <code>search_key</code> from <code>key_value_items</code>
(or return <code>null</code> if <code>search_key</code> does not exist in <code>key_value_items</code>).</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="86:4"><input checked="checked" id="__tabbed_86_1" name="__tabbed_86" type="radio" /><input id="__tabbed_86_2" name="__tabbed_86" type="radio" /><input id="__tabbed_86_3" name="__tabbed_86" type="radio" /><input id="__tabbed_86_4" name="__tabbed_86" type="radio" /><div class="tabbed-labels"><label for="__tabbed_86_1">EU</label><label for="__tabbed_86_2">US</label><label for="__tabbed_86_3">europe-west1</label><label for="__tabbed_86_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 8     |
+-------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="87:4"><input checked="checked" id="__tabbed_87_1" name="__tabbed_87" type="radio" /><input id="__tabbed_87_2" name="__tabbed_87" type="radio" /><input id="__tabbed_87_3" name="__tabbed_87" type="radio" /><input id="__tabbed_87_4" name="__tabbed_87" type="radio" /><div class="tabbed-labels"><label for="__tabbed_87_1">EU</label><label for="__tabbed_87_2">US</label><label for="__tabbed_87_3">europe-west1</label><label for="__tabbed_87_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| null  |
+-------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. When there are multiple occurences of <code>search_key</code>, return the first found <code>value</code></span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="88:4"><input checked="checked" id="__tabbed_88_1" name="__tabbed_88" type="radio" /><input id="__tabbed_88_2" name="__tabbed_88" type="radio" /><input id="__tabbed_88_3" name="__tabbed_88" type="radio" /><input id="__tabbed_88_4" name="__tabbed_88" type="radio" /><div class="tabbed-labels"><label for="__tabbed_88_1">EU</label><label for="__tabbed_88_2">US</label><label for="__tabbed_88_3">europe-west1</label><label for="__tabbed_88_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_value</span><span class="p">([</span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">struct</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">key</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span><span class="p">)],</span><span class="w"> </span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 8     |
+-------+
</code>
</pre>

<hr />
<h3 id="last_value">last_value<a class="headerlink" href="#last_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/last_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>last_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return last value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/get-last-array-element.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="89:4"><input checked="checked" id="__tabbed_89_1" name="__tabbed_89" type="radio" /><input id="__tabbed_89_2" name="__tabbed_89" type="radio" /><input id="__tabbed_89_3" name="__tabbed_89" type="radio" /><input id="__tabbed_89_4" name="__tabbed_89" type="radio" /><div class="tabbed-labels"><label for="__tabbed_89_1">EU</label><label for="__tabbed_89_2">US</label><label for="__tabbed_89_3">europe-west1</label><label for="__tabbed_89_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">last_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 3     |
+-------+
</code>
</pre>

<hr />
<h3 id="max_value">max_value<a class="headerlink" href="#max_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/max_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>max_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return max value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/least-array.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="90:4"><input checked="checked" id="__tabbed_90_1" name="__tabbed_90" type="radio" /><input id="__tabbed_90_2" name="__tabbed_90" type="radio" /><input id="__tabbed_90_3" name="__tabbed_90" type="radio" /><input id="__tabbed_90_4" name="__tabbed_90" type="radio" /><div class="tabbed-labels"><label for="__tabbed_90_1">EU</label><label for="__tabbed_90_2">US</label><label for="__tabbed_90_3">europe-west1</label><label for="__tabbed_90_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">max_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 4     |
+-------+
</code>
</pre>

<hr />
<h3 id="median_value">median_value<a class="headerlink" href="#median_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/median_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>median_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return median value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/median.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. When array length is odd</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="91:4"><input checked="checked" id="__tabbed_91_1" name="__tabbed_91" type="radio" /><input id="__tabbed_91_2" name="__tabbed_91" type="radio" /><input id="__tabbed_91_3" name="__tabbed_91" type="radio" /><input id="__tabbed_91_4" name="__tabbed_91" type="radio" /><div class="tabbed-labels"><label for="__tabbed_91_1">EU</label><label for="__tabbed_91_2">US</label><label for="__tabbed_91_3">europe-west1</label><label for="__tabbed_91_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 3     |
+-------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. When array length is even</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="92:4"><input checked="checked" id="__tabbed_92_1" name="__tabbed_92" type="radio" /><input id="__tabbed_92_2" name="__tabbed_92" type="radio" /><input id="__tabbed_92_3" name="__tabbed_92" type="radio" /><input id="__tabbed_92_4" name="__tabbed_92" type="radio" /><div class="tabbed-labels"><label for="__tabbed_92_1">EU</label><label for="__tabbed_92_2">US</label><label for="__tabbed_92_3">europe-west1</label><label for="__tabbed_92_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">median_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 2.5   |
+-------+
</code>
</pre>

<hr />
<h3 id="min_value">min_value<a class="headerlink" href="#min_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/taylorabrownlow/" title="Credits: Taylor Brownlow" target="_blank">
    <img src="https://media-exp1.licdn.com/dms/image/C4E03AQFCRlj44wnbhA/profile-displayphoto-shrink_200_200/0/1579795128165?e=1672272000&v=beta&t=LxL7tn53S_dQU0jMAeT3lHiAP4anA8GSiYD71u63pMs" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/min_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>min_value(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return min value of array
<em>(inspired from <a href="https://github.com/count/sql-snippets/blob/main/bigquery/least-array.md">sql-snippets repo</a>)</em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="93:4"><input checked="checked" id="__tabbed_93_1" name="__tabbed_93" type="radio" /><input id="__tabbed_93_2" name="__tabbed_93" type="radio" /><input id="__tabbed_93_3" name="__tabbed_93" type="radio" /><input id="__tabbed_93_4" name="__tabbed_93" type="radio" /><div class="tabbed-labels"><label for="__tabbed_93_1">EU</label><label for="__tabbed_93_2">US</label><label for="__tabbed_93_3">europe-west1</label><label for="__tabbed_93_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">min_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 1     |
+-------+
</code>
</pre>

<hr />
<h3 id="percentile_value">percentile_value<a class="headerlink" href="#percentile_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/percentile_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>percentile_value(arr, percentile)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns percentile of an array with percentile a float in range [0, 1].</p>
<p>Algorithm to calculate percentile is based on <em><a href="https://www.amherst.edu/media/view/129116/original/Sample+Quantiles.pdf">R. J. Hyndman and Y. Fan, "Sample quantiles in statistical packages," The American Statistician, 50(4), pp. 361-365, 1996</a></em></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="94:4"><input checked="checked" id="__tabbed_94_1" name="__tabbed_94" type="radio" /><input id="__tabbed_94_2" name="__tabbed_94" type="radio" /><input id="__tabbed_94_3" name="__tabbed_94" type="radio" /><input id="__tabbed_94_4" name="__tabbed_94" type="radio" /><div class="tabbed-labels"><label for="__tabbed_94_1">EU</label><label for="__tabbed_94_2">US</label><label for="__tabbed_94_3">europe-west1</label><label for="__tabbed_94_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">74</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">74</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">74</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">74</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| percentile_value |
+------------------+
| 13.8             |
+------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="95:4"><input checked="checked" id="__tabbed_95_1" name="__tabbed_95" type="radio" /><input id="__tabbed_95_2" name="__tabbed_95" type="radio" /><input id="__tabbed_95_3" name="__tabbed_95" type="radio" /><input id="__tabbed_95_4" name="__tabbed_95" type="radio" /><div class="tabbed-labels"><label for="__tabbed_95_1">EU</label><label for="__tabbed_95_2">US</label><label for="__tabbed_95_3">europe-west1</label><label for="__tabbed_95_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">9</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| percentile_value |
+------------------+
| 15.9             |
+------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="96:4"><input checked="checked" id="__tabbed_96_1" name="__tabbed_96" type="radio" /><input id="__tabbed_96_2" name="__tabbed_96" type="radio" /><input id="__tabbed_96_3" name="__tabbed_96" type="radio" /><input id="__tabbed_96_4" name="__tabbed_96" type="radio" /><div class="tabbed-labels"><label for="__tabbed_96_1">EU</label><label for="__tabbed_96_2">US</label><label for="__tabbed_96_3">europe-west1</label><label for="__tabbed_96_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">percentile_value</span><span class="p">([</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">percentile_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| percentile_value |
+------------------+
| null             |
+------------------+
</code>
</pre>

<hr />
<h3 id="remove_value">remove_value<a class="headerlink" href="#remove_value" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: Sid Ali" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/remove_value.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>remove_value(arr, value)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return an array with all values except <code>value</code>.</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="97:4"><input checked="checked" id="__tabbed_97_1" name="__tabbed_97" type="radio" /><input id="__tabbed_97_2" name="__tabbed_97" type="radio" /><input id="__tabbed_97_3" name="__tabbed_97" type="radio" /><input id="__tabbed_97_4" name="__tabbed_97" type="radio" /><div class="tabbed-labels"><label for="__tabbed_97_1">EU</label><label for="__tabbed_97_2">US</label><label for="__tabbed_97_3">europe-west1</label><label for="__tabbed_97_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">remove_value</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">arr</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------+
| arr       |
+-----------+
| [1, 3, 8] |
+-----------+
</code>
</pre>

<hr />
<h3 id="sort_values">sort_values<a class="headerlink" href="#sort_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sort_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sort_values(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return sorted array (ascending)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="98:4"><input checked="checked" id="__tabbed_98_1" name="__tabbed_98" type="radio" /><input id="__tabbed_98_2" name="__tabbed_98" type="radio" /><input id="__tabbed_98_3" name="__tabbed_98" type="radio" /><input id="__tabbed_98_4" name="__tabbed_98" type="radio" /><div class="tabbed-labels"><label for="__tabbed_98_1">EU</label><label for="__tabbed_98_2">US</label><label for="__tabbed_98_3">europe-west1</label><label for="__tabbed_98_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sort_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------+
| sorted_array |
+--------------+
| [1, 3, 4]    |
+--------------+
</code>
</pre>

<hr />
<h3 id="sort_values_desc">sort_values_desc<a class="headerlink" href="#sort_values_desc" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sort_values_desc.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sort_values_desc(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return sorted array (descending)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="99:4"><input checked="checked" id="__tabbed_99_1" name="__tabbed_99" type="radio" /><input id="__tabbed_99_2" name="__tabbed_99" type="radio" /><input id="__tabbed_99_3" name="__tabbed_99" type="radio" /><input id="__tabbed_99_4" name="__tabbed_99" type="radio" /><div class="tabbed-labels"><label for="__tabbed_99_1">EU</label><label for="__tabbed_99_2">US</label><label for="__tabbed_99_3">europe-west1</label><label for="__tabbed_99_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sort_values_desc</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sorted_array</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------------+
| sorted_array |
+--------------+
| [4, 3, 1]    |
+--------------+
</code>
</pre>

<hr />
<h3 id="sum_values">sum_values<a class="headerlink" href="#sum_values" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/benjamin-tabet" title="Author: Benjamin Tabet" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQGWnyJdEmZeZw/profile-displayphoto-shrink_200_200/0/1667928305931?e=1686787200&v=beta&t=sW-albet4-jvB_cv7krxCz16BFHdi6-ohc0bXbi-EIY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sum_values.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sum_values(arr)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the sum of array values</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="100:4"><input checked="checked" id="__tabbed_100_1" name="__tabbed_100" type="radio" /><input id="__tabbed_100_2" name="__tabbed_100" type="radio" /><input id="__tabbed_100_3" name="__tabbed_100" type="radio" /><input id="__tabbed_100_4" name="__tabbed_100" type="radio" /><div class="tabbed-labels"><label for="__tabbed_100_1">EU</label><label for="__tabbed_100_2">US</label><label for="__tabbed_100_3">europe-west1</label><label for="__tabbed_100_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sum_values</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">])</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------+
| value |
+-------+
| 8     |
+-------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="machine-learning">🧠 Machine learning<a class="headerlink" href="#machine-learning" title="Permanent link">¶</a></h2>
<div class="admonition note">
<hr />
</div>
<hr />
<h3 id="precision_recall_auc">precision_recall_auc<a class="headerlink" href="#precision_recall_auc" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/anatolec/" title="Author: Anatole Callies" target="_blank">
    <img src="https://ca.slack-edge.com/T01LGTNUWTE-U044NKG25GX-7469e33feefb-512" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/precision_recall_auc.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>precision_recall_auc(predictions)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns the Area Under the Precision Recall Curve (a.k.a. AUC PR)
given a set of predicted scores and ground truth labels using the trapezoidal rule</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Random classifier</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="101:4"><input checked="checked" id="__tabbed_101_1" name="__tabbed_101" type="radio" /><input id="__tabbed_101_2" name="__tabbed_101" type="radio" /><input id="__tabbed_101_3" name="__tabbed_101" type="radio" /><input id="__tabbed_101_4" name="__tabbed_101" type="radio" /><div class="tabbed-labels"><label for="__tabbed_101_1">EU</label><label for="__tabbed_101_2">US</label><label for="__tabbed_101_3">europe-west1</label><label for="__tabbed_101_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| auc_pr |
+--------+
| 0.5    |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Good classifier</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="102:4"><input checked="checked" id="__tabbed_102_1" name="__tabbed_102" type="radio" /><input id="__tabbed_102_2" name="__tabbed_102" type="radio" /><input id="__tabbed_102_3" name="__tabbed_102" type="radio" /><input id="__tabbed_102_4" name="__tabbed_102" type="radio" /><div class="tabbed-labels"><label for="__tabbed_102_1">EU</label><label for="__tabbed_102_2">US</label><label for="__tabbed_102_3">europe-west1</label><label for="__tabbed_102_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">precision_recall_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">auc_pr</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| auc_pr |
+--------+
| 1.0    |
+--------+
</code>
</pre>

<hr />
<h3 id="precision_recall_curve">precision_recall_curve<a class="headerlink" href="#precision_recall_curve" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/anatolec/" title="Author: Anatole Callies" target="_blank">
    <img src="https://ca.slack-edge.com/T01LGTNUWTE-U044NKG25GX-7469e33feefb-512" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/precision_recall_curve.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>precision_recall_curve(predictions)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns the Precision-Recall Curve
(as a table) given <code>predictions</code>, an array  of <code>(predicted_score, ground_truth_label)</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="103:4"><input checked="checked" id="__tabbed_103_1" name="__tabbed_103" type="radio" /><input id="__tabbed_103_2" name="__tabbed_103" type="radio" /><input id="__tabbed_103_3" name="__tabbed_103" type="radio" /><input id="__tabbed_103_4" name="__tabbed_103" type="radio" /><div class="tabbed-labels"><label for="__tabbed_103_1">EU</label><label for="__tabbed_103_2">US</label><label for="__tabbed_103_3">europe-west1</label><label for="__tabbed_103_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">precision_recall_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">precision_recall_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">precision_recall_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">precision_recall_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+-----------+---------+
| precision |  recall |
+-----------+---------+
|    0.5    |   1.0   |
|    0.667  |   1.0   |
|    0.5    |   0.5   |
|    1.0    |   0.5   |
|    1.0    |   0     |
+-----------+---------+

</code>
</pre>

<hr />
<h3 id="prophet">prophet<a class="headerlink" href="#prophet" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/hoffa/" title="Credits: Felipe Hoffa" target="_blank">
    <img src="https://miro.medium.com/v2/resize:fill:88:88/0*ahXIMiIgudZTyqJS.jpeg" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/prophet.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>prophet(records, periods, kwargs)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Forecast time-series using prophet
(inspired from <a href="https://medium.com/snowflake/facebook-prophet-forecasts-running-in-snowflake-with-snowpark-14fc870b56ae">this Felipe Hoffa medium's post</a>)</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="104:4"><input checked="checked" id="__tabbed_104_1" name="__tabbed_104" type="radio" /><input id="__tabbed_104_2" name="__tabbed_104" type="radio" /><input id="__tabbed_104_3" name="__tabbed_104" type="radio" /><input id="__tabbed_104_4" name="__tabbed_104" type="radio" /><div class="tabbed-labels"><label for="__tabbed_104_1">EU</label><label for="__tabbed_104_2">US</label><label for="__tabbed_104_3">europe-west1</label><label for="__tabbed_104_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">prophet</span><span class="p">(</span><span class="n">json</span><span class="s1">&#39;[[&quot;2020-01-01&quot;, 1], [&quot;2020-01-02&quot;, 2]]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">forecasted_records</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">prophet</span><span class="p">(</span><span class="n">json</span><span class="s1">&#39;[[&quot;2020-01-01&quot;, 1], [&quot;2020-01-02&quot;, 2]]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">forecasted_records</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">prophet</span><span class="p">(</span><span class="n">json</span><span class="s1">&#39;[[&quot;2020-01-01&quot;, 1], [&quot;2020-01-02&quot;, 2]]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">forecasted_records</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">prophet</span><span class="p">(</span><span class="n">json</span><span class="s1">&#39;[[&quot;2020-01-01&quot;, 1], [&quot;2020-01-02&quot;, 2]]&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">forecasted_records</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------------------------------------------------+
| forecasted_records                                        |
+-----------------------------------------------------------+
| [[&#34;2020-01-03&#34;, 3], [&#34;2020-01-04&#34;, 4], [&#34;2020-01-05&#34;, 5]] |
+-----------------------------------------------------------+
</code>
</pre>

<hr />
<h3 id="roc_auc">roc_auc<a class="headerlink" href="#roc_auc" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/anatolec/" title="Author: Anatole Callies" target="_blank">
    <img src="https://ca.slack-edge.com/T01LGTNUWTE-U044NKG25GX-7469e33feefb-512" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/roc_auc.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>roc_auc(predictions)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns the Area Under the Receiver Operating Characteristic Curve (a.k.a. ROC AUC)
given a set of predicted scores and ground truth labels using the trapezoidal rule</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Random classifier</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="105:4"><input checked="checked" id="__tabbed_105_1" name="__tabbed_105" type="radio" /><input id="__tabbed_105_2" name="__tabbed_105" type="radio" /><input id="__tabbed_105_3" name="__tabbed_105" type="radio" /><input id="__tabbed_105_4" name="__tabbed_105" type="radio" /><div class="tabbed-labels"><label for="__tabbed_105_1">EU</label><label for="__tabbed_105_2">US</label><label for="__tabbed_105_3">europe-west1</label><label for="__tabbed_105_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">rand</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| roc_auc |
+---------+
| 0.5     |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Good classifier</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="106:4"><input checked="checked" id="__tabbed_106_1" name="__tabbed_106" type="radio" /><input id="__tabbed_106_2" name="__tabbed_106" type="radio" /><input id="__tabbed_106_3" name="__tabbed_106" type="radio" /><input id="__tabbed_106_4" name="__tabbed_106" type="radio" /><div class="tabbed-labels"><label for="__tabbed_106_1">EU</label><label for="__tabbed_106_2">US</label><label for="__tabbed_106_3">europe-west1</label><label for="__tabbed_106_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| roc_auc |
+---------+
| 1.0     |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Bad classifier</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="107:4"><input checked="checked" id="__tabbed_107_1" name="__tabbed_107" type="radio" /><input id="__tabbed_107_2" name="__tabbed_107" type="radio" /><input id="__tabbed_107_3" name="__tabbed_107" type="radio" /><input id="__tabbed_107_4" name="__tabbed_107" type="radio" /><div class="tabbed-labels"><label for="__tabbed_107_1">EU</label><label for="__tabbed_107_2">US</label><label for="__tabbed_107_3">europe-west1</label><label for="__tabbed_107_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">roc_auc</span><span class="p">((</span><span class="k">select</span><span class="w"> </span><span class="n">array_agg</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span><span class="k">cast</span><span class="p">(</span><span class="n">predicted_score</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">float64</span><span class="p">),</span><span class="w"> </span><span class="n">predicted_score</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">500</span><span class="p">))</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">unnest</span><span class="p">(</span><span class="n">generate_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">predicted_score</span><span class="p">))</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">roc_auc</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| roc_auc |
+---------+
| 0.0     |
+---------+
</code>
</pre>

<hr />
<h3 id="roc_curve">roc_curve<a class="headerlink" href="#roc_curve" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/anatolec/" title="Author: Anatole Callies" target="_blank">
    <img src="https://ca.slack-edge.com/T01LGTNUWTE-U044NKG25GX-7469e33feefb-512" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/roc_curve.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>roc_curve(predictions)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns the Receiver Operating Characteristic Curve (a.k.a. ROC Curve)
given a set of predicted scores and ground truth labels</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="108:4"><input checked="checked" id="__tabbed_108_1" name="__tabbed_108" type="radio" /><input id="__tabbed_108_2" name="__tabbed_108" type="radio" /><input id="__tabbed_108_3" name="__tabbed_108" type="radio" /><input id="__tabbed_108_4" name="__tabbed_108" type="radio" /><div class="tabbed-labels"><label for="__tabbed_108_1">EU</label><label for="__tabbed_108_2">US</label><label for="__tabbed_108_3">europe-west1</label><label for="__tabbed_108_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">roc_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">roc_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">roc_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">roc_curve</span><span class="p">([(</span><span class="mi">0</span><span class="p">.</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="k">false</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">35</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">),</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="k">true</span><span class="p">)])</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+---------------------+--------------------+
| false_positive_rate | true_positive_rate |
+---------------------+--------------------+
|         0.0         |         0.0        |
|         0.0         |         0.5        |
|         0.5         |         0.5        |
|         0.5         |         1.0        |
|         1.0         |         1.0        |
+---------------------+--------------------+

</code>
</pre>

<hr />
<h3 id="sentiment_score">sentiment_score<a class="headerlink" href="#sentiment_score" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/sentiment_score.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>sentiment_score(content)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Compute sentiment score of <code>content</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="109:4"><input checked="checked" id="__tabbed_109_1" name="__tabbed_109" type="radio" /><input id="__tabbed_109_2" name="__tabbed_109" type="radio" /><input id="__tabbed_109_3" name="__tabbed_109" type="radio" /><input id="__tabbed_109_4" name="__tabbed_109" type="radio" /><div class="tabbed-labels"><label for="__tabbed_109_1">EU</label><label for="__tabbed_109_2">US</label><label for="__tabbed_109_3">europe-west1</label><label for="__tabbed_109_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">sentiment_score</span><span class="p">(</span><span class="s1">&#39;BigFunctions Rocks!&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sentiment_score</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-----------------+
| sentiment_score |
+-----------------+
| 0.945           |
+-----------------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="graph">🌐 Graph<a class="headerlink" href="#graph" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Graph Algorithms </strong></p>
<p>No need for neo4j nor spark graphframes --&gt; go BigQuery boosted by BigFunctions!</p>
</div>
<hr />
<h3 id="connected_components">connected_components<a class="headerlink" href="#connected_components" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/furcy-pin-3790b028/" title="Author: Furcy Pin" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQFK5YDJyod_3A/profile-displayphoto-shrink_200_200/0/1590431668428?e=1677110400&v=beta&t=_DHEt_NWaU5CIIC2UyYdK3gHj7KKUjzH9DTVhZcEmOY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/connected_components.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>connected_components(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Compute the connected components of a non-directed graph.</p>
<p>Given a table with two columns of the same type STRING or INTEGER representing the edges of a graph,
this computes a new temporary table called <code>bigfunction_result</code> containing two columns of the same type
named <code>node_id</code> and <code>connected_component_id</code>.</p>
<p>This is an implementation of the Alternating Algorithm (large-star, small-star) described in the 2014 paper
"Connected Components in MapReduce and Beyond" written by {rkiveris, silviol, mirrokni, rvibhor, sergeiv} @google.com</p>
<p>PERFORMANCE AND COST CONSIDERATIONS</p>
<ul>
<li>This algorithm has been proved to converge in O(log(n)²) and is conjectured to converge in O(log(n)), where n
is the number of nodes in the graph. It was the most performant known distributed connected component algorithm
last time I checked (in 2017).</li>
<li>This implementation persists temporary results at each iteration loop: for the BigQuery pricing, you should
be expecting it to cost the equivalent of 15 to 30 scans on your input table. Since the input table has only
two columns, this should be reasonable, and we recommend using INTEGER columns rather than STRING when possible.</li>
<li>If your graph contains nodes with a very high number of neighbors, the algorithm may crash. It is recommended
to apply a pre-filtering on your nodes and remove nodes with a pathologically high cardinality.
You should also monitor actively the number of nodes filtered this way and their cardinality, as this could help
you detect a data quality deterioration in your input graph.
If the input graph contains duplicate edges, they will be automatically removed by the algorithm.</li>
</ul>
<p>ISOLATED NODES: If you want to have isolated nodes (nodes that have no neighbors)
in the resulting graph, there is two possible ways to achieve this:</p>
<ul>
<li>Add self-loops edges to all your nodes in your input graph (it also works if you add edges between all the graph
   nodes and a fictitious node with id NULL)</li>
<li>Only add edges between distinct nodes to your input, and perform a join between your input graph and the
   algorithm's output to find all the nodes that have disappeared. These will be the isolated nodes.
   This second method requires a little more work but it should also be cheaper.</li>
</ul>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">Identify the two connected components of a graph which has 6 nodes and is represented by the edges below:
<div class="highlight"><pre><span></span><code>+---------+-----+
| node1 | node2 |
+-------+-------+
|   1   |   2   |
|   2   |   3   |
|   3   |   4   |
|   5   |   6   |
+-------+-------+
</code></pre></div>
</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="110:4"><input checked="checked" id="__tabbed_110_1" name="__tabbed_110" type="radio" /><input id="__tabbed_110_2" name="__tabbed_110" type="radio" /><input id="__tabbed_110_3" name="__tabbed_110" type="radio" /><input id="__tabbed_110_4" name="__tabbed_110" type="radio" /><div class="tabbed-labels"><label for="__tabbed_110_1">EU</label><label for="__tabbed_110_2">US</label><label for="__tabbed_110_3">europe-west1</label><label for="__tabbed_110_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.eu.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.us.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.europe_west1.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">connected_components</span><span class="p">(</span><span class="s1">&#39;bigfunctions.your_region2.sample_graph&#39;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+---------+------------------------+
| node_id | connected_component_id |
+---------+------------------------+
|    1    |           1            |
|    2    |           1            |
|    3    |           1            |
|    4    |           1            |
|    5    |           5            |
|    6    |           5            |
+---------+------------------------+

</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="convert-data-format">🔨 Convert data format<a class="headerlink" href="#convert-data-format" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Convert data format </strong></p>
</div>
<hr />
<h3 id="html2pdf">html2pdf<a class="headerlink" href="#html2pdf" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/guillaume-pivette/" title="Author: Guillaume Pivette from Neoxia" target="_blank">
    <img src="https://cdn-images-1.medium.com/v2/resize:fit:92/1*jHdQzX82eU5lyjBYp63NqQ@2x.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/html2pdf.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>html2pdf(html)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Convert <code>html</code> to <code>pdf</code>
encoded as a base64 string.</p>
<blockquote>
<p>This function is useful to combine with <code>send_mail</code> if you want to send a personnalized pdf to some people.</p>
<p>To have a beautiful pdf, we advise you to get inspired by <a href="https://github.com/sparksuite/simple-html-invoice-template">this invoice template</a>.</p>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="111:4"><input checked="checked" id="__tabbed_111_1" name="__tabbed_111" type="radio" /><input id="__tabbed_111_2" name="__tabbed_111" type="radio" /><input id="__tabbed_111_3" name="__tabbed_111" type="radio" /><input id="__tabbed_111_4" name="__tabbed_111" type="radio" /><div class="tabbed-labels"><label for="__tabbed_111_1">EU</label><label for="__tabbed_111_2">US</label><label for="__tabbed_111_3">europe-west1</label><label for="__tabbed_111_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">html2pdf</span><span class="p">(</span><span class="ss">&quot;&lt;h1&gt;Love It!&lt;/h1&gt;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">pdf_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">html2pdf</span><span class="p">(</span><span class="ss">&quot;&lt;h1&gt;Love It!&lt;/h1&gt;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">pdf_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">html2pdf</span><span class="p">(</span><span class="ss">&quot;&lt;h1&gt;Love It!&lt;/h1&gt;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">pdf_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">html2pdf</span><span class="p">(</span><span class="ss">&quot;&lt;h1&gt;Love It!&lt;/h1&gt;&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">pdf_base64</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| pdf_base64       |
+------------------+
| JVBERi0xLjQK.... |
+------------------+
</code>
</pre>

<p><a href="../assets/images/html2pdf.png"><img alt="screenshot" src="../assets/images/html2pdf.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="json2excel">json2excel<a class="headerlink" href="#json2excel" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json2excel.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json2excel(data)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Dump data to excel file
encoded as a base64 string.</p>
<blockquote>
<p>This function is useful to combine with <code>send_mail</code> if you want to send an excel file to some people.</p>
</blockquote>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="112:4"><input checked="checked" id="__tabbed_112_1" name="__tabbed_112" type="radio" /><input id="__tabbed_112_2" name="__tabbed_112" type="radio" /><input id="__tabbed_112_3" name="__tabbed_112" type="radio" /><input id="__tabbed_112_4" name="__tabbed_112" type="radio" /><div class="tabbed-labels"><label for="__tabbed_112_1">EU</label><label for="__tabbed_112_2">US</label><label for="__tabbed_112_3">europe-west1</label><label for="__tabbed_112_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json2excel</span><span class="p">(</span><span class="n">json</span><span class="w"> </span><span class="s1">&#39;[{&quot;col1&quot;: &quot;row1&quot;, &quot;col2&quot;: 1}, {&quot;col1&quot;: &quot;row2&quot;, &quot;col2&quot;: 2}]&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">excel_base64</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------------+
| excel_base64     |
+------------------+
| UEsDBBQAAAAAA... |
+------------------+
</code>
</pre>

<hr />
<h3 id="json2xml">json2xml<a class="headerlink" href="#json2xml" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/json2xml.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>json2xml(json)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns XML for given JSON string</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. With valid JSON</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="113:4"><input checked="checked" id="__tabbed_113_1" name="__tabbed_113" type="radio" /><input id="__tabbed_113_2" name="__tabbed_113" type="radio" /><input id="__tabbed_113_3" name="__tabbed_113" type="radio" /><input id="__tabbed_113_4" name="__tabbed_113" type="radio" /><div class="tabbed-labels"><label for="__tabbed_113_1">EU</label><label for="__tabbed_113_2">US</label><label for="__tabbed_113_3">europe-west1</label><label for="__tabbed_113_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: {&quot;b&quot;: &quot;foo&quot;}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: {&quot;b&quot;: &quot;foo&quot;}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: {&quot;b&quot;: &quot;foo&quot;}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: {&quot;b&quot;: &quot;foo&quot;}}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------+
| xml               |
+-------------------+
| &lt;a&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/a&gt; |
+-------------------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. With valid JSON and with one key that has empty string as a value</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="114:4"><input checked="checked" id="__tabbed_114_1" name="__tabbed_114" type="radio" /><input id="__tabbed_114_2" name="__tabbed_114" type="radio" /><input id="__tabbed_114_3" name="__tabbed_114" type="radio" /><input id="__tabbed_114_4" name="__tabbed_114" type="radio" /><div class="tabbed-labels"><label for="__tabbed_114_1">EU</label><label for="__tabbed_114_2">US</label><label for="__tabbed_114_3">europe-west1</label><label for="__tabbed_114_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;}&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+---------+
| xml     |
+---------+
| &lt;a&gt;&lt;/a&gt; |
+---------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. With invalid JSON</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="115:4"><input checked="checked" id="__tabbed_115_1" name="__tabbed_115" type="radio" /><input id="__tabbed_115_2" name="__tabbed_115" type="radio" /><input id="__tabbed_115_3" name="__tabbed_115" type="radio" /><input id="__tabbed_115_4" name="__tabbed_115" type="radio" /><div class="tabbed-labels"><label for="__tabbed_115_1">EU</label><label for="__tabbed_115_2">US</label><label for="__tabbed_115_3">europe-west1</label><label for="__tabbed_115_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">json2xml</span><span class="p">(</span><span class="s1">&#39;{&quot;a&quot;: &quot;&quot;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">xml</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------+
| xml  |
+------+
| null |
+------+
</code>
</pre>

<hr />
<h3 id="xml2json">xml2json<a class="headerlink" href="#xml2json" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/xml2json.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>xml2json(xml)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns JSON as a string for given XML string</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="116:4"><input checked="checked" id="__tabbed_116_1" name="__tabbed_116" type="radio" /><input id="__tabbed_116_2" name="__tabbed_116" type="radio" /><input id="__tabbed_116_3" name="__tabbed_116" type="radio" /><input id="__tabbed_116_4" name="__tabbed_116" type="radio" /><div class="tabbed-labels"><label for="__tabbed_116_1">EU</label><label for="__tabbed_116_2">US</label><label for="__tabbed_116_3">europe-west1</label><label for="__tabbed_116_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;b&gt;foo&lt;/b&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------+
| json              |
+-------------------+
| {&#34;a&#34;:{&#34;b&#34;:&#34;foo&#34;}} |
+-------------------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="117:4"><input checked="checked" id="__tabbed_117_1" name="__tabbed_117" type="radio" /><input id="__tabbed_117_2" name="__tabbed_117" type="radio" /><input id="__tabbed_117_3" name="__tabbed_117" type="radio" /><input id="__tabbed_117_4" name="__tabbed_117" type="radio" /><div class="tabbed-labels"><label for="__tabbed_117_1">EU</label><label for="__tabbed_117_2">US</label><label for="__tabbed_117_3">europe-west1</label><label for="__tabbed_117_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&gt;&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+----------+
| json     |
+----------+
| {&#34;a&#34;:&#34;&#34;} |
+----------+
</code>
</pre>

<div class="tabbed-set tabbed-alternate" data-tabs="118:4"><input checked="checked" id="__tabbed_118_1" name="__tabbed_118" type="radio" /><input id="__tabbed_118_2" name="__tabbed_118" type="radio" /><input id="__tabbed_118_3" name="__tabbed_118" type="radio" /><input id="__tabbed_118_4" name="__tabbed_118" type="radio" /><div class="tabbed-labels"><label for="__tabbed_118_1">EU</label><label for="__tabbed_118_2">US</label><label for="__tabbed_118_3">europe-west1</label><label for="__tabbed_118_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">xml2json</span><span class="p">(</span><span class="s1">&#39;&lt;a&gt;&lt;/a&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">json</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------+
| json |
+------+
| null |
+------+
</code>
</pre>

<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="explore">👀 Explore<a class="headerlink" href="#explore" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Explore data within BigQuery console </strong></p>
<p>Make computations on BigQuery and display the results as data-vizualizations directly in BigQuery console.</p>
</div>
<hr />
<h3 id="explore_column">explore_column<a class="headerlink" href="#explore_column" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_column.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_column(fully_qualified_column)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show column statistics</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="119:1"><input checked="checked" id="__tabbed_119_1" name="__tabbed_119" type="radio" /><div class="tabbed-labels"><label for="__tabbed_119_1">US</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_column</span><span class="p">(</span><span class="ss">&quot;bigquery-public-data.samples.natality.weight_pounds&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_column.png"><img alt="screenshot" src="../assets/images/explore_column.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="explore_dataset">explore_dataset<a class="headerlink" href="#explore_dataset" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_dataset.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_dataset(fully_qualified_dataset)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show infos about dataset tables</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="120:1"><input checked="checked" id="__tabbed_120_1" name="__tabbed_120" type="radio" /><div class="tabbed-labels"><label for="__tabbed_120_1">US</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_dataset</span><span class="p">(</span><span class="ss">&quot;bigquery-public-data.samples&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_dataset.png"><img alt="screenshot" src="../assets/images/explore_dataset.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="explore_table">explore_table<a class="headerlink" href="#explore_table" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_table.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_table(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show table infos and column statistics</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="121:1"><input checked="checked" id="__tabbed_121_1" name="__tabbed_121" type="radio" /><div class="tabbed-labels"><label for="__tabbed_121_1">US</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_table</span><span class="p">(</span><span class="ss">&quot;bigquery-public-data.samples.natality&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="n">html</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_column.png"><img alt="screenshot" src="../assets/images/explore_column.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="explore_table_row_anomalies">explore_table_row_anomalies<a class="headerlink" href="#explore_table_row_anomalies" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/explore_table_row_anomalies.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>explore_table_row_anomalies(project, kwargs)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Show tables with anomalous number of rows today</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="122:4"><input checked="checked" id="__tabbed_122_1" name="__tabbed_122" type="radio" /><input id="__tabbed_122_2" name="__tabbed_122" type="radio" /><input id="__tabbed_122_3" name="__tabbed_122" type="radio" /><input id="__tabbed_122_4" name="__tabbed_122" type="radio" /><div class="tabbed-labels"><label for="__tabbed_122_1">EU</label><label for="__tabbed_122_2">US</label><label for="__tabbed_122_3">europe-west1</label><label for="__tabbed_122_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">explore_table_row_anomalies</span><span class="p">(</span><span class="ss">&quot;bigfunctions&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">explore_table_row_anomalies</span><span class="p">(</span><span class="ss">&quot;bigfunctions&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">explore_table_row_anomalies</span><span class="p">(</span><span class="ss">&quot;bigfunctions&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">explore_table_row_anomalies</span><span class="p">(</span><span class="ss">&quot;bigfunctions&quot;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/explore_column.png"><img alt="screenshot" src="../assets/images/explore_column.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<div style="margin-top: 6rem;"></div>

<h2 id="utils">🔨 Utils<a class="headerlink" href="#utils" title="Permanent link">¶</a></h2>
<div class="admonition note">
<p><strong>Utils BigFunctions </strong></p>
</div>
<hr />
<h3 id="chart">chart<a class="headerlink" href="#chart" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/chart.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>chart(data, chart_type, ylabel)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return html with a chartjs chart</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="123:4"><input checked="checked" id="__tabbed_123_1" name="__tabbed_123" type="radio" /><input id="__tabbed_123_2" name="__tabbed_123" type="radio" /><input id="__tabbed_123_3" name="__tabbed_123" type="radio" /><input id="__tabbed_123_4" name="__tabbed_123" type="radio" /><div class="tabbed-labels"><label for="__tabbed_123_1">EU</label><label for="__tabbed_123_2">US</label><label for="__tabbed_123_3">europe-west1</label><label for="__tabbed_123_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">chart</span><span class="p">([(</span><span class="s1">&#39;2022-08-01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">20000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">40000</span><span class="p">.),</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;2022-08-04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">80000</span><span class="p">.)],</span><span class="w"> </span><span class="s1">&#39;bar&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;sales&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">html</span>
</code></pre></div>
</div>
</div>
</div>
<p><a href="../assets/images/chart.png"><img alt="screenshot" src="../assets/images/chart.png" style="border: var(--md-code-bg-color) solid 1rem; margin-top: -1rem; width: 100%"></a></p>
<hr />
<h3 id="deduplicate_rows">deduplicate_rows<a class="headerlink" href="#deduplicate_rows" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/shivamsingh012/" title="Author: Shivam Singh" target="_blank">
    <img src="https://media.licdn.com/dms/image/D4D03AQERv0qwECH0DA/profile-displayphoto-shrink_200_200/0/1675233460732?e=1686182400&v=beta&t=HqngiSx5zd4llZStwf3L0k2T_pE8qvnEj7NguWNJTOo" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/deduplicate_rows.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>deduplicate_rows(query_or_table_or_view)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns the deduplicated rows of <code>query_or_table_or_view</code></p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Returns table with duplicate rows removed.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="124:4"><input checked="checked" id="__tabbed_124_1" name="__tabbed_124" type="radio" /><input id="__tabbed_124_2" name="__tabbed_124" type="radio" /><input id="__tabbed_124_3" name="__tabbed_124" type="radio" /><input id="__tabbed_124_4" name="__tabbed_124" type="radio" /><div class="tabbed-labels"><label for="__tabbed_124_1">EU</label><label for="__tabbed_124_2">US</label><label for="__tabbed_124_3">europe-west1</label><label for="__tabbed_124_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+-----+-----+
| id1 | id2 |
+-----+-----+
| 1   | 2   |
| 1   | 3   |
| 2   | 3   |
| 4   | 3   |
| 6   | 3   |
| 7   | 3   |
| 8   | 9   |
| 9   | 9   |
+-----+-----+

</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. When incorrect table name is passed as arguments.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="125:4"><input checked="checked" id="__tabbed_125_1" name="__tabbed_125" type="radio" /><input id="__tabbed_125_2" name="__tabbed_125" type="radio" /><input id="__tabbed_125_3" name="__tabbed_125" type="radio" /><input id="__tabbed_125_4" name="__tabbed_125" type="radio" /><div class="tabbed-labels"><label for="__tabbed_125_1">EU</label><label for="__tabbed_125_2">US</label><label for="__tabbed_125_3">europe-west1</label><label for="__tabbed_125_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_tbl&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_tbl&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_tbl&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_tbl&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+-------------------------------------------------------------------------------------------------------------------------------------------+
| f0_                                                                                                                                       |
+-------------------------------------------------------------------------------------------------------------------------------------------+
| Not found: Table my_project:my_dataset.my_tbl was not found in location US at [my_project:my_dataset.deduplicate_rows:2:13] |
+-------------------------------------------------------------------------------------------------------------------------------------------+

</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. When a query is passed into the procedure.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="126:4"><input checked="checked" id="__tabbed_126_1" name="__tabbed_126" type="radio" /><input id="__tabbed_126_2" name="__tabbed_126" type="radio" /><input id="__tabbed_126_3" name="__tabbed_126" type="radio" /><input id="__tabbed_126_4" name="__tabbed_126" type="radio" /><div class="tabbed-labels"><label for="__tabbed_126_1">EU</label><label for="__tabbed_126_2">US</label><label for="__tabbed_126_3">europe-west1</label><label for="__tabbed_126_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;select data from unnest([1, 2, 3, 1]) data&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;select data from unnest([1, 2, 3, 1]) data&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;select data from unnest([1, 2, 3, 1]) data&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">deduplicate_rows</span><span class="p">(</span><span class="ss">&quot;select data from unnest([1, 2, 3, 1]) data&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+------+
| data |
+------+
| 1    |
| 2    |
| 3    |
+------+

</code>
</pre>

<hr />
<h3 id="get_latest_partition_timestamp">get_latest_partition_timestamp<a class="headerlink" href="#get_latest_partition_timestamp" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/company/esmoz/" title="Author: jihene cherif" target="_blank">
    <img src="https://esmoz.fr/wp-content/uploads/2022/03/logo_esmoz_40x20-1.png" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_latest_partition_timestamp.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_latest_partition_timestamp(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Return the maximum of the partition column of <code>fully_qualified_table</code></p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="127:4"><input checked="checked" id="__tabbed_127_1" name="__tabbed_127" type="radio" /><input id="__tabbed_127_2" name="__tabbed_127" type="radio" /><input id="__tabbed_127_3" name="__tabbed_127" type="radio" /><input id="__tabbed_127_4" name="__tabbed_127" type="radio" /><div class="tabbed-labels"><label for="__tabbed_127_1">EU</label><label for="__tabbed_127_2">US</label><label for="__tabbed_127_3">europe-west1</label><label for="__tabbed_127_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_latest_partition_timestamp</span><span class="p">(</span><span class="ss">&quot;my_project.my_dataset.my_table&quot;</span><span class="p">);</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">bigfunction_result</span><span class="p">;</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">
+----------------------------+
| latest_partition_timestamp |
+----------------------------+
|         2023-01-10         |
+----------------------------+

</code>
</pre>

<hr />
<h3 id="get_table_columns">get_table_columns<a class="headerlink" href="#get_table_columns" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/furcy-pin-3790b028/" title="Author: Furcy Pin" target="_blank">
    <img src="https://media.licdn.com/dms/image/C4D03AQFK5YDJyod_3A/profile-displayphoto-shrink_200_200/0/1590431668428?e=1677110400&v=beta&t=_DHEt_NWaU5CIIC2UyYdK3gHj7KKUjzH9DTVhZcEmOY" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_table_columns.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_table_columns(fully_qualified_table)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get the column information of the given table from <code>INFORMATION_SCHEMA.COLUMNS</code>
and put them in a temporary table called <code>bigfunction_result</code>.</p>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">call <code>bigfunctions.eu._get_columns</code>("bigfunctions.samples.natality");
select column_name, data_type from bigfunction_result ;
</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="128:1"><input checked="checked" id="__tabbed_128_1" name="__tabbed_128" type="radio" /><div class="tabbed-labels"><label for="__tabbed_128_1">EU</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_table_columns</span><span class="p">(</span><span class="s1">&#39;bigfunctions.samples.natality&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="get_view_history">get_view_history<a class="headerlink" href="#get_view_history" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/get_view_history.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>get_view_history(fully_qualified_view)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Get BigQuery View history</p>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="129:4"><input checked="checked" id="__tabbed_129_1" name="__tabbed_129" type="radio" /><input id="__tabbed_129_2" name="__tabbed_129" type="radio" /><input id="__tabbed_129_3" name="__tabbed_129" type="radio" /><input id="__tabbed_129_4" name="__tabbed_129" type="radio" /><div class="tabbed-labels"><label for="__tabbed_129_1">EU</label><label for="__tabbed_129_2">US</label><label for="__tabbed_129_3">europe-west1</label><label for="__tabbed_129_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">get_view_history</span><span class="p">(</span><span class="n">your_project</span><span class="p">.</span><span class="n">your_dataset</span><span class="p">.</span><span class="n">view_name</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">get_view_history</span><span class="p">(</span><span class="n">your_project</span><span class="p">.</span><span class="n">your_dataset</span><span class="p">.</span><span class="n">view_name</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">get_view_history</span><span class="p">(</span><span class="n">your_project</span><span class="p">.</span><span class="n">your_dataset</span><span class="p">.</span><span class="n">view_name</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">get_view_history</span><span class="p">(</span><span class="n">your_project</span><span class="p">.</span><span class="n">your_dataset</span><span class="p">.</span><span class="n">view_name</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="run_python">run_python<a class="headerlink" href="#run_python" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/paul-marcombes" title="Author: Paul Marcombes with Axel Thevenot" target="_blank">
    <img src="https://lh3.googleusercontent.com/a-/ACB-R5RDf2yxcw1p_IYLCKmiUIScreatDdhG8B83om6Ohw=s260" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/run_python.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>run_python(python_code, requirements, kwargs)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Run any <code>python_code</code>.</p>
<div class="admonition warning">
<p class="admonition-title">For security reasons (sandboxing):</p>
<ul>
<li>this function is rather slow (a new python environement is created for each query). You may prefer to create a dedicated python function for your use case. You can suggest a new bigfunction <a href="https://github.com/unytics/bigfunctions/issues/new?assignees=&amp;labels=new-bigfunction&amp;projects=&amp;template=0_new_bigfunction.yaml&amp;title=%5Bnew%5D%3A+%60function_name%28argument1%2C+argument2%29%60">here</a> if you want someone to create your function.</li>
<li>your python code won't have access to internet</li>
<li>not all python packages can be installed</li>
</ul>
</div>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>python_code</code></td>
<td>Arbitrary python code (indented with 4 spaces).</td>
</tr>
<tr>
<td><code>requirements</code></td>
<td>requirements as you would pass them to <code>pip install</code> (separated with space). Keep note that for security reasons, not all python packages can be installed</td>
</tr>
<tr>
<td><code>kwargs</code></td>
<td>A json dict of variables. These variables will be defined and usable in your python code.</td>
</tr>
</tbody>
</table>
<details class="question">
<summary>How sandboxing is done</summary>
<p>The provided <code>python_code</code> will run in <a href="https://pyodide.org/">pyodide</a>:
a python distribution which runs in a chrome headless browser.</p>
<p>This simplifies the implementation of:</p>
<ul>
<li>isolation between function calls,</li>
<li>installation of python packages,</li>
<li>isolation from the internet.</li>
</ul>
<p>For every function call:</p>
<ul>
<li>we init a new browser context,</li>
<li>download pyodide,</li>
<li>install python packages</li>
<li>run the code.</li>
</ul>
</details>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Basic Example</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="130:4"><input checked="checked" id="__tabbed_130_1" name="__tabbed_130" type="radio" /><input id="__tabbed_130_2" name="__tabbed_130" type="radio" /><input id="__tabbed_130_3" name="__tabbed_130" type="radio" /><input id="__tabbed_130_4" name="__tabbed_130" type="radio" /><div class="tabbed-labels"><label for="__tabbed_130_1">EU</label><label for="__tabbed_130_2">US</label><label for="__tabbed_130_3">europe-west1</label><label for="__tabbed_130_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  return sum(range(10))</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  return sum(range(10))</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  return sum(range(10))</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  return sum(range(10))</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| result |
+--------+
| 45     |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">2. Some packages such as <code>pandas</code> can be installed and used.</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="131:4"><input checked="checked" id="__tabbed_131_1" name="__tabbed_131" type="radio" /><input id="__tabbed_131_2" name="__tabbed_131" type="radio" /><input id="__tabbed_131_3" name="__tabbed_131" type="radio" /><input id="__tabbed_131_4" name="__tabbed_131" type="radio" /><div class="tabbed-labels"><label for="__tabbed_131_1">EU</label><label for="__tabbed_131_2">US</label><label for="__tabbed_131_3">europe-west1</label><label for="__tabbed_131_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import pandas as pd</span>
<span class="s1">  return pd.Series(range(10)).sum()</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;pandas&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import pandas as pd</span>
<span class="s1">  return pd.Series(range(10)).sum()</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;pandas&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import pandas as pd</span>
<span class="s1">  return pd.Series(range(10)).sum()</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;pandas&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import pandas as pd</span>
<span class="s1">  return pd.Series(range(10)).sum()</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;pandas&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="k">null</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| result |
+--------+
| 45     |
+--------+
</code>
</pre>

<p><span style="color: var(--md-typeset-a-color);">3. Replace <code>word</code> passed as a variable by its <a href="https://en.wikipedia.org/wiki/Word_stem">stem</a></span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="132:4"><input checked="checked" id="__tabbed_132_1" name="__tabbed_132" type="radio" /><input id="__tabbed_132_2" name="__tabbed_132" type="radio" /><input id="__tabbed_132_3" name="__tabbed_132" type="radio" /><input id="__tabbed_132_4" name="__tabbed_132" type="radio" /><div class="tabbed-labels"><label for="__tabbed_132_1">EU</label><label for="__tabbed_132_2">US</label><label for="__tabbed_132_3">europe-west1</label><label for="__tabbed_132_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import snowballstemmer</span>
<span class="s1">  stemmer = snowballstemmer.stemmer(&#39;</span><span class="n">english</span><span class="s1">&#39;)</span>
<span class="s1">  stems = stemmer.stemWords(text.split())</span>
<span class="s1">  return &#39;</span><span class="w"> </span><span class="s1">&#39;.join(stems)</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;snowballstemmer&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">to_json</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;care cared and caring&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">text</span>
<span class="w">  </span><span class="p">))</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import snowballstemmer</span>
<span class="s1">  stemmer = snowballstemmer.stemmer(&#39;</span><span class="n">english</span><span class="s1">&#39;)</span>
<span class="s1">  stems = stemmer.stemWords(text.split())</span>
<span class="s1">  return &#39;</span><span class="w"> </span><span class="s1">&#39;.join(stems)</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;snowballstemmer&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">to_json</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;care cared and caring&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">text</span>
<span class="w">  </span><span class="p">))</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import snowballstemmer</span>
<span class="s1">  stemmer = snowballstemmer.stemmer(&#39;</span><span class="n">english</span><span class="s1">&#39;)</span>
<span class="s1">  stems = stemmer.stemWords(text.split())</span>
<span class="s1">  return &#39;</span><span class="w"> </span><span class="s1">&#39;.join(stems)</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;snowballstemmer&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">to_json</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;care cared and caring&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">text</span>
<span class="w">  </span><span class="p">))</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">run_python</span><span class="p">(</span>
<span class="w">  </span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">  import snowballstemmer</span>
<span class="s1">  stemmer = snowballstemmer.stemmer(&#39;</span><span class="n">english</span><span class="s1">&#39;)</span>
<span class="s1">  stems = stemmer.stemWords(text.split())</span>
<span class="s1">  return &#39;</span><span class="w"> </span><span class="s1">&#39;.join(stems)</span>
<span class="s1">  &#39;&#39;&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="s1">&#39;snowballstemmer&#39;</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="n">to_json</span><span class="p">(</span><span class="n">struct</span><span class="p">(</span>
<span class="w">    </span><span class="s1">&#39;care cared and caring&#39;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nb">text</span>
<span class="w">  </span><span class="p">))</span>
<span class="w">  </span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">result</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+--------+
| result |
+--------+
| go     |
+--------+
</code>
</pre>

<hr />
<h3 id="timestamp_from_unix_date_time">timestamp_from_unix_date_time<a class="headerlink" href="#timestamp_from_unix_date_time" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/axel-thevenot/" title="Author: Axel Thevenot" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/39374103?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/timestamp_from_unix_date_time.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>timestamp_from_unix_date_time(unix_date_time, date_time_part)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Interprets <code>unix_date_time</code> as the number of <code>date_time_part</code> since <code>1970-01-01 00:00:00 UTC</code>.
Truncates higher levels of precision by rounding down to the beginning of the <code>date_time_part</code>.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>date_time_part</code></td>
<td><code>MICROSECOND</code>, <code>MILLISECOND</code>, <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>, <code>DAY</code>, <code>WEEK</code>, <code>WEEK(MONDAY)</code>, <code>WEEK(TUESDAY)</code>, <code>WEEK(WEDNESDAY)</code>, <code>WEEK(THURSDAY)</code>, <code>WEEK(FRIDAY)</code>, <code>WEEK(SATURDAY)</code>, <code>WEEK(SUNDAY)</code>, <code>MONTH</code>, <code>QUARTER</code>, <code>YEAR</code></td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="133:4"><input checked="checked" id="__tabbed_133_1" name="__tabbed_133" type="radio" /><input id="__tabbed_133_2" name="__tabbed_133" type="radio" /><input id="__tabbed_133_3" name="__tabbed_133" type="radio" /><input id="__tabbed_133_4" name="__tabbed_133" type="radio" /><div class="tabbed-labels"><label for="__tabbed_133_1">EU</label><label for="__tabbed_133_2">US</label><label for="__tabbed_133_3">europe-west1</label><label for="__tabbed_133_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">timestamp_from_unix_date_time</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">from_unix</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">timestamp_from_unix_date_time</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">from_unix</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">timestamp_from_unix_date_time</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">from_unix</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">timestamp_from_unix_date_time</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">from_unix</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+-------------------------+
| from_unix               |
+-------------------------+
| 2001-01-01 00:00:00 UTC |
+-------------------------+
</code>
</pre>

<hr />
<h3 id="timestamp_to_unix_date_time">timestamp_to_unix_date_time<a class="headerlink" href="#timestamp_to_unix_date_time" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/axel-thevenot/" title="Author: Axel Thevenot" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/39374103?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/timestamp_to_unix_date_time.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>timestamp_to_unix_date_time(timestamp_expression, date_time_part)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Returns the number of <code>date_time_part</code> since <code>1970-01-01 00:00:00 UTC</code>. 
Truncates higher levels of precision by rounding down to the beginning of the <code>date_time_part</code>.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>date_time_part</code></td>
<td><code>MICROSECOND</code>, <code>MILLISECOND</code>, <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>, <code>DAY</code>, <code>WEEK</code>, <code>WEEK(MONDAY)</code>, <code>WEEK(TUESDAY)</code>, <code>WEEK(WEDNESDAY)</code>, <code>WEEK(THURSDAY)</code>, <code>WEEK(FRIDAY)</code>, <code>WEEK(SATURDAY)</code>, <code>WEEK(SUNDAY)</code>, <code>MONTH</code>, <code>QUARTER</code>, <code>YEAR</code></td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="134:4"><input checked="checked" id="__tabbed_134_1" name="__tabbed_134" type="radio" /><input id="__tabbed_134_2" name="__tabbed_134" type="radio" /><input id="__tabbed_134_3" name="__tabbed_134" type="radio" /><input id="__tabbed_134_4" name="__tabbed_134" type="radio" /><div class="tabbed-labels"><label for="__tabbed_134_1">EU</label><label for="__tabbed_134_2">US</label><label for="__tabbed_134_3">europe-west1</label><label for="__tabbed_134_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">timestamp_to_unix_date_time</span><span class="p">(</span><span class="k">timestamp</span><span class="p">(</span><span class="ss">&quot;2001-01-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unix_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">timestamp_to_unix_date_time</span><span class="p">(</span><span class="k">timestamp</span><span class="p">(</span><span class="ss">&quot;2001-01-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unix_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">timestamp_to_unix_date_time</span><span class="p">(</span><span class="k">timestamp</span><span class="p">(</span><span class="ss">&quot;2001-01-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unix_value</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">timestamp_to_unix_date_time</span><span class="p">(</span><span class="k">timestamp</span><span class="p">(</span><span class="ss">&quot;2001-01-01&quot;</span><span class="p">),</span><span class="w"> </span><span class="ss">&quot;YEAR&quot;</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">unix_value</span>
</code></pre></div>
</div>
</div>
</div>
<pre style="margin-top: -1rem;">
<code style="padding-top: 0px; padding-bottom: 0px;">+------------+
| unix_value |
+------------+
| 31         |
+------------+
</code>
</pre>

<hr />
<h3 id="upsert">upsert<a class="headerlink" href="#upsert" title="Permanent link">¶</a></h3>
<div style="position: relative; top: -2rem; margin-bottom:  -2rem; text-align: right; z-index: 9999;">

  <a href="https://www.linkedin.com/in/axel-thevenot/" title="Author: Axel Thevenot" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/39374103?v=4" width="32" style=" border-radius: 50% !important">
  </a>

  <a href="https://github.com/unytics/bigfunctions/blob/main/bigfunctions/upsert.yaml" title="Edit on GitHub" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="#5d6cc0" d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a></div>
<div class="highlight"><pre><span></span><code>upsert(query_or_table_or_view, destination_table, insertion_mode, primary_keys, recency_field)
</code></pre></div>
<p><strong>Description</strong></p>
<p>Merges <code>query_or_table_or_view</code> into the <code>destination_table</code>.</p>
<p>A record is identified by its <code>primary_keys</code>. A unique combination of those fields is a unique record.
Before the merging operation, the records are identified and deduplicated according to the <code>primary_keys</code>.
If <code>recency_field</code> is filled then the last record version is kept else it is chosen arbitrarily.</p>
<table>
<thead>
<tr>
<th>Param</th>
<th>Possible values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>query_or_table_or_view</code></td>
<td>Can be a fully qualified table or view <code>(&lt;project-id&gt;.)?&lt;dataset_id&gt;.&lt;table_or_view_name&gt;</code>. <br> Can also be a plain query in BigQuery Standard SQL.</td>
</tr>
<tr>
<td><code>destination_table</code></td>
<td>Must be a fully qualified table <code>(&lt;project-id&gt;.)?&lt;dataset_id&gt;.&lt;table_or_view_name&gt;</code>.</td>
</tr>
<tr>
<td><code>insertion_mode</code></td>
<td>Three insertion mode are available:<ul><li> <code>"insert_only"</code>: existing records in <code>query_or_table_or_view</code> and not existing in <code>destination_table</code> are inserted. Deletion and update are not possible. </li><li> <code>"delta"</code>: same as <code>insert_only</code> with the updatable records. Records existing both in <code>query_or_table_or_view</code> and in  <code>destination_table</code> are updated. If <code>recency_field</code> is filled, only the most recent version from source and destination is kept. </li><li> <code>"full"</code>: same as <code>delta</code> with the deletable records. Records not existing in <code>query_or_table_or_view</code> and existing in <code>destination_table</code> are deleted. </li> </ul></td>
</tr>
<tr>
<td><code>primary_keys</code></td>
<td>Combination of field identifying a record. If <code>primary_keys = []</code>, every row will be considered as a unique record.</td>
</tr>
<tr>
<td><code>recency_field</code></td>
<td>Orderable field (ie. <code>timestamp</code>, <code>integer</code>, ...) to identify the relative frechness of a record version.</td>
</tr>
</tbody>
</table>
<p><strong>Examples</strong></p>
<p><span style="color: var(--md-typeset-a-color);">1. Merge tables in delta mode</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="135:4"><input checked="checked" id="__tabbed_135_1" name="__tabbed_135" type="radio" /><input id="__tabbed_135_2" name="__tabbed_135" type="radio" /><input id="__tabbed_135_3" name="__tabbed_135" type="radio" /><input id="__tabbed_135_4" name="__tabbed_135" type="radio" /><div class="tabbed-labels"><label for="__tabbed_135_1">EU</label><label for="__tabbed_135_2">US</label><label for="__tabbed_135_3">europe-west1</label><label for="__tabbed_135_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;dataset_id.source_table_or_view&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;delta&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;timestamp_field&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;dataset_id.source_table_or_view&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;delta&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;timestamp_field&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;dataset_id.source_table_or_view&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;delta&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;timestamp_field&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;dataset_id.source_table_or_view&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;delta&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="s1">&#39;timestamp_field&#39;</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<p><span style="color: var(--md-typeset-a-color);">2. Merge from query in full</span></p>
<div class="tabbed-set tabbed-alternate" data-tabs="136:4"><input checked="checked" id="__tabbed_136_1" name="__tabbed_136" type="radio" /><input id="__tabbed_136_2" name="__tabbed_136" type="radio" /><input id="__tabbed_136_3" name="__tabbed_136" type="radio" /><input id="__tabbed_136_4" name="__tabbed_136" type="radio" /><div class="tabbed-labels"><label for="__tabbed_136_1">EU</label><label for="__tabbed_136_2">US</label><label for="__tabbed_136_3">europe-west1</label><label for="__tabbed_136_4">your-region2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">eu</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;select * from dataset_id.source_table_or_view where filter_field = true&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;full&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">us</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;select * from dataset_id.source_table_or_view where filter_field = true&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;full&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">europe_west1</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;select * from dataset_id.source_table_or_view where filter_field = true&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;full&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="k">call</span><span class="w"> </span><span class="n">bigfunctions</span><span class="p">.</span><span class="n">your_region2</span><span class="p">.</span><span class="n">upsert</span><span class="p">(</span><span class="s1">&#39;select * from dataset_id.source_table_or_view where filter_field = true&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;dataset_id.destination_table&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;full&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">],</span><span class="w"> </span><span class="k">null</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
<hr />



  



                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        

<!-- Application footer -->
<footer class="md-footer">
  <!-- Further information -->
  <div class="md-footer-meta md-typeset" style="background-color: #fff;">
    <div class="md-footer-meta__inner md-grid" style="background-color: #fff;">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        <img
          src="https://unytics.io/bigfunctions/assets/logo_and_name.png"
          alt=""
          draggable="false"
          width="300"
        >
        
          <div class="md-footer-copyright__highlight" style="color: rgb(92, 92, 92);">
            Copyright &copy; 2023 Unytics
          </div>
        
      </div>

      <!-- Social links -->
      <div class="md-social">
  
</div>
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["tabs", "content.tabs.link", "content.code.copy", "instant", "navigation.instant", "navigation.path", "navigation.tabs", "navigation.tracking", "navigation.indexes", "navigation.hide", "navigation.expand"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../javascripts/bulma.js"></script>
        
      
    
  </body>
</html>